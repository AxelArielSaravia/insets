<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="author" content="Axel Ariel Saravia">
        <meta name="creator" content="axarisar">
        <meta name="description" content="inSets music composition app generate music from miuxing audio files">
        <meta name="keywords" content="music, generative music, music composition, mixer, landscape music, experimental music, axarisar, Axel Ariel Saravia">

        <meta
            name="theme-color"
            media="(prefers-color-scheme: light)"
            content="#ede4e4"
        >
        <meta
            name="theme-color"
            media="(prefers-color-scheme: dark)"
            content="#3f3b3b"
        >

        <meta name="canonical" href="./">

        <title>inSets</title>
        
            <style>:root {
    --font: "Cutive Mono", monospace;
    --color-black: #131212;
    --color-white: #eadfdf;
    --color-pink-light: #d0adf0;
    --color-pink-dark: #551a8b;
    --color-pink-light-a: #d0adf033;
    --color-pink-dark-a: #551a8b33;

    --color-white-trans-light: #e0d2d2;
    --color-white-trans: #a89999;

    --color-black-trans-dark: #222020;
    --color-black-trans: #464242;

    --font-size: 1rem;
    --font-size-config-menu: 0.9rem;
    --font-size-config-buttons: 0.8rem;

    --color-pri: var(--color-white);
    --color-sec: var(--color-black);
    --color-trans-pri: var(--color-white-trans-light);
    --color-trans-sec: var(--color-white-trans);
    --color-select: var(--color-pink-dark);
    --color-select-a: var(--color-pink-dark-a);
    accent-color: var(--color-black);
    color-scheme: light;
    --scrollbar-color: var(--color-sec) var(--color-pri);

    --visual-radius: 5px;

    --icon-size: 2.5ch;
}

@media (prefers-color-scheme: dark) {
    :root {
        --color-pri: var(--color-black);
        --color-sec: var(--color-white);
        --color-trans-pri: var(--color-black-trans-dark);
        --color-trans-sec: var(--color-black-trans);
        --color-select: var(--color-pink-light);
        --color-select-a: var(--color-pink-light-a);
        accent-color: var(--color-white);
        color-scheme: dark;
    }
    :root.light {
        --color-pri: var(--color-white);
        --color-sec: var(--color-black);
        --color-trans-pri: var(--color-white-trans-light);
        --color-trans-sec: var(--color-white-trans);
        --color-select: var(--color-pink-dark);
        --color-select-a: var(--color-pink-dark-a);
        accent-color: var(--color-black);
        color-scheme: light;
    }
    :root:not(.light) .theme-switcher .lucide-moon,
    :root.light .theme-switcher .lucide-sun {
        display: none;
    }
}

@media not (prefers-color-scheme: dark) {
    :root {
        --color-pri: var(--color-white);
        --color-sec: var(--color-black);
        --color-trans-pri: var(--color-white-trans-light);
        --color-trans-sec: var(--color-white-trans);
        --color-select: var(--color-pink-dark);
        --color-select-a: var(--color-pink-dark-a);
        accent-color: var(--color-black);
        color-scheme: light;
    }
    :root.dark {
        --color-pri: var(--color-black);
        --color-sec: var(--color-white);
        --color-trans-pri: var(--color-black-trans-dark);
        --color-trans-sec: var(--color-black-trans);
        --color-select: var(--color-pink-light);
        --color-select-a: var(--color-pink-light-a);
        accent-color: var(--color-white);
        color-scheme: dark;
    }
    :root:not(.dark) .theme-switcher .lucide-sun,
    :root.dark .theme-switcher .lucide-moon {
        display: none;
    }
}

label,input, select, option {
    cursor: pointer;
}

input[type="range"] {
    height: 4px;
}
input[type="range"]:focus-visible {
    outline-offset: 1ch;
    border-radius: var(--visual-radius);
}

.button,
button {
    margin: 0;
    background: transparent;
    color: inherit;

    font-family: var(--font);
    font-size: var(--font-size);

    cursor: pointer;

    padding: 0.5ch;

    border: 2px solid;
    border-radius: 1ch;
    position: relative;
    box-sizing: border-box;
}

.button::after,
button::after {
    content: "";
    display: block;
    position: absolute;
    width: 100%;
    height: 100%;
    inset: 0;
}
a {
    color: var(--color-sec);
    border-radius: var(--visual-radius);
    font-size: var(--font-size);
}

:where(a, button, summary, input[type="range"], select):focus-visible {
    outline: 2px solid var(--color-select);
}

@media (hover: hover) and (pointer: fine){
    a:hover {
        color: var(--color-select);
    }
    .button:hover,
    button:hover {
        color: var(--color-select);
        border-color: var(--color-select);
        background: var(--color-trans-pri);
    }
    input[type="range"]:hover {
        accent-color: var(--color-select);
    }
}

h1 {
    font-size: 1.5em;
}

h1, h2, h3, h4, p {
    margin: 0;
}

body {
    margin: 0;
    padding: 0;

    display: flex;
    flex-direction: column;

    width: 100%;
    height: 100vh;
    height: 100lvh;

    font-family: var(--font);
    font-weight: normal;

    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;

    background-color:var(--color-pri);
    color: var(--color-sec);

    -webkit-tap-highlight-color: var(--color-select-a);
    user-select: none;
}

body>header {
    display: flex;
    align-items: center;
    justify-content: space-between;

    padding: 10px;
}

body>header ul {
    display: inline-flex;
    align-items: center;
    gap: 2ch;
    list-style: none;
    padding: 0;
    margin: 0;
}

body>header ul .icon {
    width: var(--icon-size);
    height: var(--icon-size);
}

body>header ul button span {
    width: 5ch;
    text-align: center;
}

body>main {
    flex-grow: 1;
    display: flex;
    flex-direction: column;
    overflow: hidden;
}

body>main[data-app="0"] .app,
body>main[data-app="1"] .presentation {
    display: none
}

.presentation {
    flex-grow: 1;
    display: flex;
    text-align: center;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 1ch;
    line-height: 2;
}

@media (scripting: none) {
    .presentation #presentation-loading {
        display: none;
    }
}

 
.drop-area {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;

    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;

    background: var(--color-pri);
    opacity: 0.5;
    z-index: 5;
}

.drop-area::after {
    content: "";
    display: block;
    position: absolute;
    inset: auto;
    width: 100%;
    height: 100%;
}

div.app {
    position: relative;
    flex-grow: 1;
    overflow: hidden;
    display: grid;
    grid-template-columns: minmax(0, 1fr) auto;
    grid-template-rows: auto 1fr;
    column-gap: 2ch;
}

div.app menu {
    margin: 0;
    padding: 0;
    display: flex;
    list-style: none;
    align-items: center;
    gap: 2ch;
}

div.app .configuration {
    grid-row: 1 / 3;
    grid-column: 2;
    width: 340px;
}

div.app .container,
div.app .configuration {
    box-sizing: border-box;
    scrollbar-color: var(--scrollbar-color);
    overflow: auto;
    padding: 10px;
}

div.app .configuration menu {
    --font-size: var(--font-size-config-menu);
    padding: 10px 0;
}

div.app details {
    padding: 10px 0;
}

div.app summary {
    display:flex;
    align-items: center;
    justify-content: space-between;
    gap: 1ch;
    cursor: pointer;

    font-size: 1.2em;
    list-style: none;

    border-radius: var(--visual-radius);
}


div.app details[open] {
    border-bottom: 1px solid;
    border-color: var(--color-select);
}

div.app details[open] > summary:first-of-type {
    color: var(--color-select);
    font-weight: bold;
}

div.app details > summary svg {
    transform: rotate(270deg);
    transition: transform .2s linear;
    width: 1ch;
    height: 1ch;
}

div.app details[open] > summary svg {
    transform: rotate(180deg);
}

@media (hover: hover) and (pointer: fine) {
    div.app details:not([open]):hover {
        color: var(--color-select);
        border-color: var(--color-select);
    }
    div.app summary:hover {
        text-decoration: underline;
    }
}

.checkboxes {
    display:flex;
    flex-wrap: wrap;
    gap: 1ch;
    border: none;
    padding: 0;
    margin: 0;
}

.checkbox, .b-file {
    position: relative;
}

.checkbox>span {
    display: flex;
    align-items: center;
    gap: 0.5ch;
}

.checkbox input:focus-visible+span {
    outline: 2px solid var(--color-select);
}

.checkbox input:not(:checked)+span {
    opacity: 0.6;
}

.checkbox .icon-checkbox {
    width: 1.2ch;
    height: 1.2ch;
}

.checkbox input:not(:checked)+span svg {
    fill: none;
}

div.app .configuration .time .content {
    --font-size: 1.3rem;
    display: flex;
    flex-direction: column;
    align-items: center;
}

div.app .configuration .time h3 {
    font-size: var(--font-size);
    letter-spacing: 0.2ch;
    padding: 10px 0 0;
}

.time-input {
    display: flex;
    align-items: center;
}

@media not (prefers-reduced-motion) {
    .time-input[data-alert="1"] {
        animation: 0.3s linear 0 alert-1;
        animation-iteration-count: 3;
    }
    .time-input[data-alert="2"] {
        animation: 0.3s linear 0 alert-2;
        animation-iteration-count: 3;
    }
    @keyframes alert-1 {
        0%, 50% {
            color: red;
        }
    }
    @keyframes alert-2 {
        0%, 50% {
            color: red;
        }
    }
}

.time-input p {
    font-size: var(--font-size);
}

.time [data-changed="0"] menu {
    display: none;
}

.range-number {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
}
.range-number button {
    width: min-content;
    display: flex;
    align-items: center;
    justify-content: center;
}
.range-number .icon {
    width: 1ch;
    height: 1ch;
}
.range-number .down {
    transform: rotate(180deg);
}

div.app .configuration article {
    padding: 10px 0;
}

div.app .configuration article .range{
    display: flex;
    align-items: center;
    gap: 1ch;
}
div.app .configuration article .range input {
    flex-grow: 1;
}
div.app .configuration article .range .text {
    width: 12ch;
}

div.app .configuration article [name="value"]+span {
    margin-left: -0.8ch;
}
div.app .configuration h4 {
    padding-bottom: 1ch;
}
div.app .configuration .general-buttons {
    --font-size: var(--font-size-config-buttons);
    display: flex;
    justify-content: space-between;
    flex-wrap: wrap;
    padding: 10px 0;
}

div.app .configuration .general-button {
    --font-size: var(--font-size-config-buttons);
    display: flex;
    justify-content: flex-end;
    flex-wrap: wrap;
    padding: 10px 0 0;
}

div.app .configuration .sets .max-elements {
    display: flex;
    align-items: center;
    gap: 1ch;
}
div.app .configuration .sets .max-elements select {
    border-radius: 1ch;
    padding: .5ch;
    border: 2px solid;
}

div.app .configuration .sets .max-elements :where(select, option) {
    background: var(--color-pri);
    color: var(--color-sec);
}

div.app .configuration .sets table {
    width: 100%;
    --font-size: 1.3rem;
}
div.app .configuration .sets table .icon {
    width: 1ch;
    height: 1ch;
}

div.app .configuration .sets table th {
    padding: 1ch 0;
}

div.app .configuration .sets .value {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 1ch;
}

div.app .configuration .sets .value button {
    display: flex;
    align-items: center;
}
div.app .configuration .sets .value p {
    width: 3ch;
}

button.left svg {
    transform: rotate(270deg);
}
button.right svg {
    transform: rotate(90deg);
}

div.app .menu {
    grid-row: 1;
    grid-column: 1;
    padding: 10px;
}

div.app .menu .icon {
    width: var(--icon-size);
    height: var(--icon-size);
}

div.app .menu li:first-of-type {
    flex-grow: 1;
}

div.app .menu .b-start span {
    width: 5ch;
    text-align: center;
}
div.app .menu .b-start[data-start="0"] .end {
    display: none;
}
div.app .menu .b-start[data-start="1"] .start {
    display: none;
}

div.app .menu input:focus-visible~span {
    outline: 2px solid var(--color-select);
}

div.app .container {
    grid-row: 2;
    grid-column: 1;
    position:relative;
    display: flex;
    flex-direction: column;
    gap: 5ch;
}

div.app .container:empty::before {
    content: "No Audio Files";
    font-size: 1em;
    position: absolute;
    inset: 0;
    display: flex;
    align-items: center;
    justify-content: center;
}

.audio[data-playing="0"] .lucide-pause,
.audio[data-playing="1"] .lucide-play {
    display:none;
}

.audio {
    display: flex;
    flex-direction: column;
    gap: 1ch;
    font-size: var(--font-size);
}
.audio .top {
    display: flex;
    align-items: center;
    gap: 1ch;
}

.audio .top button,
.audio .top label {
    display: flex;
    align-items: center;
}

.audio .volume input {
    width: 80px;
}

.audio .title {
    flex-grow: 1;
    text-overflow: ellipsis;
    white-space: nowrap;
    overflow: hidden;
}

.button-with-icon {
    display: flex;
    align-items: center;
    gap: 0.5ch;
}


@media (min-width: 820.1px) {
    div.app .menu .b-config {
        display: none;
    }

}

@media (max-width: 820px) {
    div.app {
        grid-template-columns: minmax(0, 1fr);
    }
    div.app .configuration {
        grid-row: 2;
        grid-column: 1;
        padding:10px 2vw;
        width: 100%;
        z-index: 2;
        background: var(--color-pri);
        line-height: 2;
        opacity: 0.9;
    }
    div.app .configuration[data-show="0"] {
        display: none;
    }
    div.app .menu {
        direction: rtl;
    }
    div.app details {
        border-bottom: 1px solid;
    }
}

@media (max-width: 450px) {
    :root {
        --font-size: 0.8rem;
        --font-size-config-menu: 0.7rem;
        --font-size-config-buttons: 0.7rem;
    }

    body>header ul a,
    body>header button,
    div.app .menu button,
    div.app .menu .button {
        flex-direction: column;
        gap: 0;
        min-width: 5ch;
    }
}

@supports (height: 1dvh) {
    body {
        height: 100dvh;
    }

    @media (max-width: 820px) {
        div.app {
            grid-template-rows: 1fr auto;
        }
        div.app .menu {
            grid-row: 2;
        }
        div.app .container {
            grid-row: 1;
        }
        div.app .configuration {
            grid-row: 1;
            grid-column: 1;
        }
    }
}

.hidde-interactive {
    position: absolute;
    width: 1px;
    height: 1px;
    opacity: 0;
}


.sr-only {
    clip: rect(0 0 0 0); 
    clip-path: inset(50%);
    height: 1px;
    overflow: hidden;
    position: absolute;
    white-space: nowrap; 
    width: 1px;
}

[data-display="0"],
[data-css-hidden] {
    display: none;
}
</style>
            <script type="module">"use strict";

const EVENT_ONCE = {once: true};
const EVENT_CO = {capture: true, once: true};

const FREE_TIME = 5000; 


const AUDIOELEMENTS_MAX = 128;

const ZOMBIS_MAX = 10;

const DEFAULT_AREALLDISABLE = false;
const DEFAULT_DELAY_FEEDBACKMAX = 16;
const DEFAULT_DELAY_FEEDBACKMIN = 4;
const DEFAULT_DELAY_TIMEMAX = 39;
const DEFAULT_DELAY_TIMEMIN = 3;
const DEFAULT_FADEIN = 2;
const DEFAULT_FADEOUT = 5;
const DEFAULT_FILTER_FREQMAX = 240;
const DEFAULT_FILTER_FREQMIN = 40;
const DEFAULT_FILTER_QMAX = 36;
const DEFAULT_FILTER_QMIN = 0;
const DEFAULT_FILTER_BANDPASS = true;
const DEFAULT_FILTER_HIGHPASS = true;
const DEFAULT_FILTER_LOWPASS = true;
const DEFAULT_FILTER_NOTCH = true;
const DEFAULT_PANNER_XMAX = 80;
const DEFAULT_PANNER_XMIN = 20;
const DEFAULT_PANNER_YMAX = 80;
const DEFAULT_PANNER_YMIN = 20;
const DEFAULT_PANNER_ZMAX = 50;
const DEFAULT_PANNER_ZMIN = 0;
const DEFAULT_PBRATE_MAX = 15;
const DEFAULT_PBRATE_MIN = 5;

const DEFAULT_TIMEINTERVAL_MAX = 50;
const DEFAULT_TIMEINTERVAL_MIN = 8;
const DEFAULT_VOLUME = 0.8;

const LIMIT_MIN = 0;
const LIMIT_DELAY_FEEDBACKMAX = 17;
const LIMIT_DELAY_TIMEMAX = 49;
const LIMIT_FADES_MAX = 8;
const LIMIT_FILTER_FREQMAX = 248;
const LIMIT_FILTER_QMAX = 36;
const LIMIT_FILTER_EFFECTS = 4;
const LIMIT_PANNER_MAX = 100;
const LIMIT_PANNER_ZMAX = 50;
const LIMIT_PBRATE_MAX = 20;

const LIMIT_TIMEINTERVAL_MAX = 18000;
const LIMIT_TIMEINTERVAL_MIN = 5;
const LIMIT_VOLUME_MAX = 1;     
const LIMIT_VOLUME_MIN = 0.1;   

const CARDINAL_MAX = 15;
const EVENTS_MAX_VALUE = 255;
const EVENTS_MIN_VALUE = 0;
const SetEvents = {
    cap: CARDINAL_MAX + 1,
    max: CARDINAL_MAX,
    len: 1,
    buf: (function () {
        var a = new Uint8Array(CARDINAL_MAX + 1);
        a[0] = 1;
        return a;
    }()),
    sum: 1,
    zeros: 0,
};

let context = null;
let Started = false;
let StartedId = 0;
const STARTEDID_MAX = 4294967295; 
const startedIdNext = function () {
    if (StartedId === STARTEDID_MAX) {
        StartedId = 0;
    } else {
        StartedId += 1;
    }
};

let DelayAreAllDisable = DEFAULT_AREALLDISABLE;
let DelayTimemax = DEFAULT_DELAY_TIMEMAX;
let DelayTimemin = DEFAULT_DELAY_TIMEMIN;
let DelayFeedbackmax = DEFAULT_DELAY_FEEDBACKMAX;
let DelayFeedbackmin = DEFAULT_DELAY_FEEDBACKMIN;
let FadeIn = DEFAULT_FADEIN;
let FadeOut = DEFAULT_FADEOUT;
let FilterAreAllDisable = DEFAULT_AREALLDISABLE;
let FilterFreqmax = DEFAULT_FILTER_FREQMAX;
let FilterFreqmin = DEFAULT_FILTER_FREQMIN;
let FilterQmax = DEFAULT_FILTER_QMAX;
let FilterQmin = DEFAULT_FILTER_QMIN;
let FilterBandpass = DEFAULT_FILTER_BANDPASS;
let FilterHighpass = DEFAULT_FILTER_HIGHPASS;
let FilterLowpass = DEFAULT_FILTER_LOWPASS;
let FilterNotch = DEFAULT_FILTER_NOTCH;
const FilterTypes = ["highpass","lowpass","bandpass","notch"];
let PannerAreAllDisable = DEFAULT_AREALLDISABLE;
let PannerXmax = DEFAULT_PANNER_XMAX;
let PannerXmin = DEFAULT_PANNER_XMIN;
let PannerYmax = DEFAULT_PANNER_YMAX;
let PannerYmin = DEFAULT_PANNER_YMIN;
let PannerZmax = DEFAULT_PANNER_ZMAX;
let PannerZmin = DEFAULT_PANNER_ZMIN;
let PbRateAreAllDisable = DEFAULT_AREALLDISABLE;
let PbRatemax = DEFAULT_PBRATE_MAX;
let PbRatemin = DEFAULT_PBRATE_MIN;
let CutREPAreAllDisable = DEFAULT_AREALLDISABLE;
let CutRSPAreAllDisable = DEFAULT_AREALLDISABLE;


let TimeIntervalmax = DEFAULT_TIMEINTERVAL_MAX;
let TimeIntervalmin = DEFAULT_TIMEINTERVAL_MIN;
let TimeTemporalmax = DEFAULT_TIMEINTERVAL_MAX;
let TimeTemporalmin = DEFAULT_TIMEINTERVAL_MIN;

const SelectedAudios = {
    cap: AUDIOELEMENTS_MAX,
    len: 0,
    buf: new Uint8Array(AUDIOELEMENTS_MAX),
    all: false,
};

let AudioEventsSum = 0;
const AudioList = {
    len: 0,
     
    buf: [],
     
    push(audio) {
        if (AudioList.buf.length === AudioList.len) {
            AudioList.buf.push(audio);
        } else {
            AudioList.buf[AudioList.len] = audio;
        }
        AudioList.len += 1;
    },
     
    get(i) {
        if (i < 0 || i >= AudioList.len) {
            return undefined;
        }
        return AudioList.buf[i];
    },
     
    remove(i) {
        if (i < 0 || i >= AudioList.len) {
            return false;
        }
        if (i < AudioList.len-1) {
            let t = AudioList.buf[i];
            AudioList.buf.copyWithin(i, i+1, AudioList.len);
            AudioList.buf[AudioList.len - 1] = t;
        }
        AudioList.len -= 1;
        return true;
    },
     
    makeZombi(audio) {
        
        audio.events = 1;
        audio.delayDisabled = DelayAreAllDisable;
        audio.filterDisabled = FilterAreAllDisable;
        audio.pannerDisabled = PannerAreAllDisable;
        audio.pbrateDisabled = PbRateAreAllDisable;

        
        URL.revokeObjectURL(audio.html.src);
        audio.zombi = true;
    },
     
    getZombi() {
        if (AudioList.buf.length === 0) {
            return;
        }
        if (AudioList.len < AudioList.buf.length) {
            return AudioList.buf[AudioList.len];
        }
    },
    free() {
        if (AudioList.buf.length === 0) {
            return;
        }
        if (AudioList.len < AudioList.buf.length) {
            for (let i = AudioList.len; i < AudioList.buf.length; i += 1) {
                let state = AudioList.buf[i];
                state.html.removeEventListener("timeupdate", AudioOntimeupdate);
                state.html = null;
            }
            AudioList.buf.length = AudioList.len;
        }
    }
};

let timeoutFree = undefined;
const timeoutFreeFn = function () {
    if (timeoutFree !== undefined) {
        HtmlAudioZombis.replaceChildren();
        AudioList.free();
    }
};





const assert = function (expression, msg) {
    if (!expression) {
        throw Error(msg);
    }
};



const random = function (min, max) {
    return Math.floor(Math.random() * (max - min + 1) + min);
};



const AudioContainer = document.implementation.createHTMLDocument().body;
const HtmlAudioZombis = document.createDocumentFragment();
const HtmlAudioTemplate = document.createElement("audio");
const HtmlAudioElementTemplate = (function () {
     
    const t = document.getElementById("t-audio-element");
    assert(t !== null, "#t-audio-element is not found");
    return t.content;
}());

const HtmlApp = document.getElementById("app");
assert(HtmlApp !== null, "#app is not found");

const HtmlAppContainer = document.getElementById("app-container");
assert(HtmlAppContainer !== null, "#app-container is not found");

const HtmlAppConfig = document.getElementById("app-config");
assert(HtmlAppConfig !== null, "#app-config is not found");

const HtmlAppDrop = document.getElementById("app-drop");
assert(HtmlAppDrop !== null, "#app-drop is not found");

const HtmlAppMenu = document.getElementById("app-menu");
assert(HtmlAppMenu !== null, "#app-menu is not found");

const HtmlCSetmax = document.getElementById("c-set-max");
assert(HtmlCSetmax !== null, "#c-set-max is not found");

const HtmlCSets = document.getElementById("c-sets");
assert(HtmlCSets !== null, "#c-sets is not found");

const HtmlCTimemin = document.getElementById("c-time-min");
assert(HtmlCTimemin !== null, "#c-time-min is not found");
const HtmlCTimeminMM = HtmlCTimemin.children["mm"].children["value"];
const HtmlCTimeminSS = HtmlCTimemin.children["ss"].children["value"];
const HtmlCTimeminMS = HtmlCTimemin.children["ms"].children["value"];

const HtmlCTimeContainer = HtmlCTimemin.parentElement.parentElement;
assert(HtmlCTimeContainer !== null, "HtmlCTimeContainer is not found");

const HtmlCTimemax = document.getElementById("c-time-max");
assert(HtmlCTimemax !== null, "#c-time-max is not found");
const HtmlCTimemaxMM = HtmlCTimemax.children["mm"].children["value"];
const HtmlCTimemaxSS = HtmlCTimemax.children["ss"].children["value"];
const HtmlCTimemaxMS = HtmlCTimemax.children["ms"].children["value"];

const HtmlCFadein = document.getElementById("c-fadein");
assert(HtmlCFadein !== null, "#c-fadein is not found");

const HtmlCFadeout = document.getElementById("c-fadeout");
assert(HtmlCFadeout !== null, "#c-fadeout is not found");

const HtmlCDelayDA = document.getElementById("c-delay-da");
assert(HtmlCDelayDA !== null, "#c-delay-da is not found");

const HtmlCDelayTimemin = document.getElementById("c-delay-timemin");
assert(HtmlCDelayTimemin !== null, "#c-delay-timemin is not found");

const HtmlCDelayTimemax = document.getElementById("c-delay-timemax");
assert(HtmlCDelayTimemax !== null, "#c-delay-timemax is not found");

const HtmlCDelayFeedbackmin = document.getElementById("c-delay-feedbackmin");
assert(HtmlCDelayFeedbackmin !== null, "#c-delay-feedbackmin is not found");

const HtmlCDelayFeedbackmax = document.getElementById("c-delay-feedbackmax");
assert(HtmlCDelayFeedbackmax !== null, "#c-delay-feedbackmax is not found");

const HtmlCFilterDA = document.getElementById("c-filter-da");
assert(HtmlCFilterDA !== null, "#c-filter-da is not found");

const HtmlCFilterFreqmin = document.getElementById("c-filter-freqmin");
assert(HtmlCFilterFreqmin !== null, "#c-filter-freqmin is not found");

const HtmlCFilterFreqmax = document.getElementById("c-filter-freqmax");
assert(HtmlCFilterFreqmax !== null, "#c-filter-freqmax is not found");

const HtmlCFilterQmin = document.getElementById("c-filter-qmin");
assert(HtmlCFilterQmin !== null, "#c-filter-qmin is not found");

const HtmlCFilterQmax = document.getElementById("c-filter-qmax");
assert(HtmlCFilterQmax !== null, "#c-filter-qmax is not found");

const HtmlCFilterEffects = document.getElementById("c-filter-effects");
assert(HtmlCFilterEffects !== null, "#c-filter-effects is not found");

const HtmlCPannerDA = document.getElementById("c-panner-da");
assert(HtmlCPannerDA !== null, "#c-panner-da is not found");

const HtmlCPannerXmin = document.getElementById("c-panner-xmin");
assert(HtmlCPannerXmin !== null, "#c-panner-xmin is not found");

const HtmlCPannerXmax = document.getElementById("c-panner-xmax");
assert(HtmlCPannerXmax !== null, "#c-panner-xmax is not found");

const HtmlCPannerYmin = document.getElementById("c-panner-ymin");
assert(HtmlCPannerYmin !== null, "#c-panner-ymin is not found");

const HtmlCPannerYmax = document.getElementById("c-panner-ymax");
assert(HtmlCPannerYmax !== null, "#c-panner-ymax is not found");

const HtmlCPannerZmin = document.getElementById("c-panner-zmin");
assert(HtmlCPannerZmin !== null, "#c-panner-zmin is not found");

const HtmlCPannerZmax = document.getElementById("c-panner-zmax");
assert(HtmlCPannerZmax !== null, "#c-panner-zmax is not found");

const HtmlCPbrateDA = document.getElementById("c-pbrate-da");
assert(HtmlCPbrateDA !== null, "#c-pbrate-da is not found");

const HtmlCPbrateMin = document.getElementById("c-pbrate-min");
assert(HtmlCPbrateMin !== null, "#c-pbrate-min is not found");

const HtmlCPbrateMax = document.getElementById("c-pbrate-max");
assert(HtmlCPbrateMax !== null, "#c-pbrate-max is not found");

const HtmlCRSPDA = document.getElementById("c-rsp-da");
assert(HtmlCRSPDA !== null, "#c-rsp-da is not found");

const HtmlCREPDA = document.getElementById("c-rep-da");
assert(HtmlCREPDA !== null, "#c-rep-da is not found");





const getFilterFreq = function (x) {
    assert(LIMIT_MIN <= x && x <= LIMIT_FILTER_FREQMAX,
        "filter frequency out of range"
    );
    if (x < 60) {
        x = x + 40;
    } else if (x < 150) {
        x = (x - 50) * 10;
    } else if (x < 240) {
        x = (x - 140) * 100;
    } else {
        x = (x - 230) * 1000;
    }
    return x;
};



const getFilterQ = function (x) {
    assert(LIMIT_MIN <= x && x <= LIMIT_FILTER_QMAX,
        "filter q out of range"
    );
    if (x < 18) {
        x = (x + 2) / 20;
    } else if (x < 28) {
        x = (x - 8) / 10;
    } else {
        x = x - 26;
    }
    return x;
};



const getPlaybackRate = function (x) {
    assert(LIMIT_MIN <= x && x <= LIMIT_PBRATE_MAX,
        "playback rate out of range"
    );
    if (x < 10) {
        x = (x + 10) / 20;
    } else {
        x = x / 10;
    }
    return x;
};



const getDelayFeedback = function (x) {
    assert(LIMIT_MIN <= x && x <= LIMIT_DELAY_FEEDBACKMAX,
        "delay feedback out of range"
    );
    return (x + 1) * 5;
};



const getDelayTime = function (x) {
    assert(LIMIT_MIN <= x && x <= LIMIT_DELAY_TIMEMAX,
        "delay time out of range"
    );
    return (x + 1) / 10;
};



const getPanner = function (x) {
    assert(LIMIT_MIN <= x && x <= LIMIT_PANNER_MAX,
        "panner out of range"
    );
    return x - 50;
};



const getFade = function (x) {
    assert(LIMIT_MIN <= x && x <= LIMIT_PANNER_MAX,
        "fade out of range"
    );
    if (x !== 0) {
        x = (20 * x) + 60;
    }
    return x;
};


 
const timeIntervalFormat = function (n) {
    if (n < 10) {
        return "0" + String(n);
    }
    return String(n);
};





const audioCreateState = function (HtmlAudio, source) {
    const panner = context.createPanner();
    panner.coneInnerAngle = 360;
    panner.coneOuterAngle = 0;
    panner.coneOuterGain = 0;
    panner.distanceModel = "inverse";
    panner.maxDistance = 10000;
    panner.orientationX.value = 0;
    panner.orientationY.value = 1;
    panner.orientationZ.value = 0;
    panner.panningModel = "HRTF";
    panner.refDistance = 1;

    const filter = context.createBiquadFilter();
    filter.channelCountMode = "max";
    filter.channelInterpretation = "speakers";
    filter.detune.value = 0;
    filter.gain.value = 1;
    filter.type = "lowpass";

    const delay = context.createDelay(getDelayTime(LIMIT_DELAY_TIMEMAX));
    const delayfeedback = context.createGain();
    const delaygain = context.createGain();
    delay.channelCountMode = "max";
    delay.channelInterpretation = "speakers";
    delay.delayTime.value = 0;
    delay.connect(delayfeedback);
    delayfeedback.connect(delayfeedback);
    delayfeedback.connect(delaygain);

    const input = context.createGain();
    const output = context.createGain();
    input.gain.value = DEFAULT_VOLUME;

    source.connect(input);
    output.connect(context.destination);

    return {
        zombi: false,
        html: HtmlAudio,
        source: source,
        events: 1,
        playing: false,
        volume: 1,
        duration: HtmlAudio.duration, 
        endPoint: HtmlAudio.duration, 
        endTime: HtmlAudio.duration, 
        startPoint: 0, 
        startTime: 0, 
        delayDisabled: DelayAreAllDisable,
        filterDisabled: FilterAreAllDisable,
        pannerDisabled: PannerAreAllDisable,
        pbrateDisabled: PbRateAreAllDisable,
        rspDisabled: CutRSPAreAllDisable,
        repDisabled: CutREPAreAllDisable,
        pbrate: 1,
        input: input,
        output: output,
        filter: filter,
        panner: panner,
        delay: delay,
        delayfeedback: delayfeedback,
        delaygain: delaygain,
    };
};

const audioRandomizeConnections = function (audio) {
    audio.input.disconnect();
    audio.panner.disconnect();
    audio.filter.disconnect();
    audio.delaygain.disconnect();

    let prev = audio.input;

    if (!audio.pannerDisabled) {
        let x = getPanner(random(PannerYmin, PannerYmax)) / 10;
        let y = getPanner(random(PannerXmin, PannerXmax)) / 10;
        let z = -(random(PannerZmin, PannerZmax) / 10);
        console.info({x,y,z})
        audio.panner.positionX.value = x;
        audio.panner.positionY.value = y;
        audio.panner.positionY.value = z;
        prev.connect(audio.panner);
        prev = audio.panner;
    }
    if (Math.random() < 0.5 && !audio.filterDisabled) {
        let n = 0;
        if (FilterHighpass) {
            FilterTypes[n] = "highpass";
            n += 1;
        }
        if (FilterLowpass) {
            FilterTypes[n] = "lowpass";
            n += 1;
        }
        if (FilterBandpass) {
            FilterTypes[n] = "bandpass";
            n += 1;
        }
        if (FilterNotch) {
            FilterTypes[n] = "notch";
            n += 1;
        }
        let type = "";
        if (n === 1) {
            type = FilterTypes[0];
        } else {
            n = random(0, n-1);
            type = FilterTypes[n];
        }
        let q = 1;
        if (type !== "lowpass" && type !== "highpass") {
            q = getFilterQ(random(FilterQmin, FilterQmax));
        }
        let freq = getFilterFreq(random(FilterFreqmin, FilterFreqmax));

        console.info({type, freq, q});

        audio.filter.frequency.value = freq;
        audio.filter.type = type;
        audio.filter.Q.value = q;
        prev.connect(audio.filter);
        prev = audio.filter;
    }
    if (Math.random() < 0.5 && !audio.delayDisabled) {
        let delaytime = getDelayTime(random(DelayTimemin, DelayTimemax));
        let feedback = getDelayFeedback(random(
            DelayFeedbackmin,
            DelayFeedbackmax
        )) / 100;
        console.info({delaytime, feedback});
        audio.delay.delayTime.setValueAtTime(
            delaytime,
            context.currentTime + delaytime
        );
        audio.delayfeedback.gain.value = feedback;
        prev.connect(audio.delay);
        prev.connect(audio.delaygain);
        prev = audio.delaygain;
    }
    prev.connect(audio.output);
};

const audioPlay = function (audio) {
    if (!audio.pbrateDisabled) {
        let pbrate = getPlaybackRate(
            random(PbRatemin, PbRatemax)
        );
        console.info({pbrate});
        audio.html.playbackRate = pbrate;
    } else {
        audio.html.playbackRate = 1;
    }

    if (audio.duration >= 1) {
        let rsp = audio.startTime;
        let rep = audio.endTime;
        let interval = 0.5;
        if (!audio.rspDisabled && !audio.repDisabled) {
            let d = Math.round(audio.duration * 10);
            let p = Math.round((rep - rsp) * 10);
            let min = 5;
            let max = 0;
            if (p < 5) {
                max = min;
            } else if (p > d) {
                max = d;
            } else {
                max = p;
            }
            interval = random(min, max) / 10;
        }
        if (!audio.rspDisabled) {
            rsp = (
                random(audio.startTime * 10, (rep - interval) * 10)
                    / 10
            );
        }
        if (!audio.repDisabled) {
            rep = (
                random((rsp + interval) * 10, audio.endTime * 10)
                    / 10
            );
        }
        console.info({rsp, rep});
        audio.startPoint = rsp;
        audio.endPoint = rep;
        audio.html.endPoint = rep;
    }
    audio.html.currentTime = audio.startPoint;

    audioRandomizeConnections(audio);
    audio.html.play();
    audio.playing = true;
};

const audioPause = function (audio) {
    if (audio.playing) {
        audio.delay.delayTime.cancelScheduledValues(context.currentTime);
        audio.delay.delayTime.value = 0;
        audio.html.pause();
        audio.playing = false;
        return true;
    }
};

const audioRemove = function (audio, i) {
    audioPause(audio);
    AudioList.makeZombi(audio)
    if (!AudioList.remove(i)) {
        throw Error("ERROR: AudioList.remove");
    }
};

 
const audioAction = function (i, action) {
    const state = AudioList.get(i);
    console.info({action,state});
    if (state === undefined) {
        return false;
    }
    if ("play" === action) {
        audioPlay(state);
        return true;
    } else if ("pause" === action) {
        audioPause(state);
        return true;
    } else if ("remove" === action) {
        AudioEventsSum -= state.events;
        audioRemove(state, i);
        return true;
    }
    return false;
}



const AudioOnerror = function (e) {
    const HtmlAudio = e.currentTarget;
    if (HtmlAudio.src) {
        URL.revokeObjectURL(HtmlAudio.src);
    }

    console.error(`ERROR: ${HtmlAudio.name} fails load`);
};

 
const getHtmlChildIndex = function (HtmlParent, HtmlTarget) {
    let c = 0;
    for (let child of HtmlParent.children) {
        if (child === HtmlTarget) {
            return c;
        }
        c += 1;
    }
    c = -1;
    return c
};

const updateHtmlCSets = function () {
    let msg = "";
    for (let i = 0; i < SetEvents.len; i += 1) {
        const HtmlSet = HtmlCSets.children[i]; 
        if (SetEvents.buf[i] === 0) {
            msg = "-";
        } else {
            msg = (SetEvents.buf[i] / SetEvents.sum * 100).toFixed(1);
        }
        HtmlSet.children[2].children["value"].textContent = msg;
    }
}



const AudioOncanplaythrough = function (e) {
    const HtmlAudio = e.currentTarget;
    let HtmlAudioElement;
    if (HtmlAudio.zombi) {
        HtmlAudioElement = HtmlAudioZombis.children[0];
        HtmlAudioElement.appTitle.textContent = HtmlAudio.name;
        HtmlAudio.zombi = false;

    } else {
        const source = context.createMediaElementSource(HtmlAudio);
        const state = audioCreateState(HtmlAudio, source);

        HtmlAudioElement = (
            HtmlAudioElementTemplate
            .cloneNode(true)
            .firstElementChild
        );
        HtmlAudioElement.appTitle = (
            HtmlAudioElement.firstElementChild.children["title"]
        );
        HtmlAudioElement.appPlay = (
            HtmlAudioElement.firstElementChild.children["play"]
        );
        HtmlAudioElement.appVolume = (
            HtmlAudioElement.firstElementChild.children["volume"]
        );
        HtmlAudioElement.appRemove = (
            HtmlAudioElement.firstElementChild.children["remove"]
        );
        HtmlAudioElement.appDelay = (
            HtmlAudioElement
            .lastElementChild
            .lastElementChild
            .elements["delay"]
        );
        HtmlAudioElement.appFilter = (
            HtmlAudioElement
            .lastElementChild
            .lastElementChild
            .elements["filter"]
        );
        HtmlAudioElement.appPanner = (
            HtmlAudioElement
            .lastElementChild
            .lastElementChild
            .elements["panner"]
        );
        HtmlAudioElement.appPbrate = (
            HtmlAudioElement
            .lastElementChild
            .lastElementChild
            .elements["pbrate"]
        );
        HtmlAudioElement.appRSP = (
            HtmlAudioElement
            .lastElementChild
            .lastElementChild
            .elements["RSP"]
        );
        HtmlAudioElement.appREP = (
            HtmlAudioElement
            .lastElementChild
            .lastElementChild
            .elements["REP"]
        );

        HtmlAudio.endPoint = state.endPoint;
        HtmlAudioElement.appTitle.textContent = HtmlAudio.name;
        AudioList.push(state);
    }
    
    AudioEventsSum += 1;

    HtmlAudioElement.appDelay.checked = !DelayAreAllDisable;
    HtmlAudioElement.appFilter.checked = !FilterAreAllDisable;
    HtmlAudioElement.appPanner.checked = !PannerAreAllDisable;
    HtmlAudioElement.appPbrate.checked = !PbRateAreAllDisable;
    HtmlAudioElement.appRSP.checked = !CutRSPAreAllDisable;
    HtmlAudioElement.appREP.checked = !CutREPAreAllDisable;


    if (AudioList.len <= SetEvents.max) {
        SetEvents.buf[SetEvents.len] = 1;
        const HtmlSet = HtmlCSets.children[SetEvents.len];
        HtmlSet.setAttribute("data-display", "1"); 
        HtmlSet.children[1].children["value"].textContent = "1";
        SetEvents.sum += 1;
        SetEvents.len += 1;
        updateHtmlCSets();
    }
    HtmlAppContainer.appendChild(HtmlAudioElement);
};

const AudioOntimeupdate = function (e) {
    const HtmlAudio = e.currentTarget;
    if (!HtmlAudio.paused && HtmlAudio.endPoint <= HtmlAudio.currentTime) {
        assert(AudioList.len === HtmlAppContainer.children.length);
        for (let i = 0; i < AudioList.len; i += 1) {
            if (AudioList.buf[i].html === HtmlAudio) {
                const HtmlAudioElement = HtmlAppContainer.children[i];
                HtmlAudioElement.setAttribute("data-playing", "0");
                audioPause(AudioList.buf[i]);
            }
        }
    }
};



const addFiles = function (files) {
    if (AudioList.len === AUDIOELEMENTS_MAX) {
        
        
        return;
    }
    for (let file of files) {
        if (!file.type.startsWith("audio/")) {
            continue;
        }
        if (!HtmlAudioTemplate.canPlayType(file.type)) {
            console.warn(
                "WARNING:",
                `can not play audio type ${file.type} from ${file.name}`
            );
            continue;
        }
        let HtmlAudio;
        if (HtmlAudioZombis.children.length > 0) {
            const AudioState = AudioList.getZombi();
            assert(AudioState !== undefined, "ERROR undefined state: AudioList.getZombi");

            AudioList.len += 1;

            AudioState.delayDisabled = DelayAreAllDisable;
            AudioState.filterDisabled = FilterAreAllDisable;
            AudioState.pannerDisabled = PannerAreAllDisable;
            AudioState.pbrateDisabled = PbRateAreAllDisable;
            AudioState.rspDisabled = CutRSPAreAllDisable;
            AudioState.repDisabled = CutREPAreAllDisable;

            HtmlAudio = AudioState.html;
            HtmlAudio.zombi = true;
            if (AudioList.len < AudioList.buf.length) {
                clearTimeout(timeoutFree);
                timeoutFree = setTimeout(timeoutFreeFn, FREE_TIME);
            }
        } else {
            HtmlAudio = HtmlAudioTemplate.cloneNode();
            HtmlAudio.zombi = false;
            HtmlAudio.addEventListener("timeupdate", AudioOntimeupdate, true);
        }
        HtmlAudio.src = URL.createObjectURL(file);
        HtmlAudio.name = file.name.slice(0, file.name.lastIndexOf("."));
        HtmlAudio.type = file.type;
        HtmlAudio.preservesPitch = false;
        HtmlAudio.endPoint = 0;

        HtmlAudio.addEventListener("error", AudioOnerror, EVENT_CO);
        HtmlAudio.addEventListener(
            "canplaythrough",
            AudioOncanplaythrough,
            EVENT_CO
        );
    }
};






const AMAlias = {
    len: 0,
    cap: AUDIOELEMENTS_MAX,
    buf: new Uint32Array(AUDIOELEMENTS_MAX),
};
const AMProbs = {
    len: 0,
    cap: AUDIOELEMENTS_MAX,
    buf: new Uint32Array(AUDIOELEMENTS_MAX),
};
const AMSmalls = {
    len: 0,
    cap: AUDIOELEMENTS_MAX,
    buf: new Uint8Array(AUDIOELEMENTS_MAX),
};
const AMLarges = {
    len: 0,
    cap: AUDIOELEMENTS_MAX,
    buf: new Uint8Array(AUDIOELEMENTS_MAX),
};
const AMP = {
    len: 0,
    cap: AUDIOELEMENTS_MAX,
    buf: new Uint32Array(AUDIOELEMENTS_MAX)
};

 
const selectCardinal = function (events) {
    let cardinal = 0;
    const len = events.len;
    const randIdx = random(0, len-1);
    AMProbs.len = len;
    AMAlias.len = len;
    AMSmalls.len = 0;
    AMLarges.len = 0;
    AMP.len = 0;
    for (let i = 0; i < len; i += 1) {
        const res = events.buf[i] * len;
        if (res < events.sum) {
            AMSmalls.buf[AMSmalls.len] = i;
            AMSmalls.len += 1;
        } else {
            AMLarges.buf[AMLarges.len] = i;
            AMLarges.len += 1;
        }
        AMP.buf[AMP.len] = res;
        AMP.len += 1;
    }
    let s = 0;
    let l = 0;
    while (AMSmalls.len !== 0 && AMLarges.len !== 0) {
        s = AMSmalls.buf[AMSmalls.len-1];
        AMSmalls.len -= 1;
        l = AMLarges.buf[AMLarges.len-1];
        AMLarges.len -= 1;

        AMProbs.buf[s] = AMP.buf[s];
        AMAlias.buf[s] = l;
        AMP.buf[l] = (AMP.buf[l] + AMP.buf[s]) - events.sum;
        if (AMP.buf[l] < events.sum) {
            AMSmalls.buf[AMSmalls.len] = l;
            AMSmalls.len += 1;
        } else {
            AMLarges.buf[AMLarges.len] = l;
            AMLarges.len += 1;
        }
    }
    while (AMSmalls.len !== 0) {
        s = AMSmalls.buf[AMSmalls.len-1];
        AMProbs.buf[s] = events.sum;
        AMSmalls.len -= 1;
    }
    while (AMLarges.len !== 0) {
        l = AMLarges.buf[AMLarges.len-1];
        AMProbs.buf[l] = events.sum;
        AMLarges.len -= 1;
    }
    if (random(0, events.sum-1) < AMProbs.buf[randIdx]) {
        cardinal = randIdx;
    } else {
        cardinal = AMAlias.buf[randIdx];
    }
    return cardinal;
};

const randomAudioSelection = function (Keys, Sums, sum, w) {
    assert(Keys.len === Sums.len, `ERROR: Keys.len: ${Keys.len}, Sums.len: ${Sums.len}`);
    assert(w > 0);
    let e = 0;
    for (;;) {
        let selected = 0;
        let target = random(0, sum-1);
        if (Sums.len < 20) {
            for (let i = 0; i < Sums.len; i += 1) {
                if (target < Sums.buf[i]) {
                    selected = i;
                    break;
                }
            }
        } else {
            let startI = 0;
            let endI = Sums.len;
            while (startI <= endI) {
                const midI = Math.floor((startI + endI) / 2);
                if (Sums.buf[midI] < target) {
                    startI = midI + 1;
                } else {
                    if (midI === 0 || Sums.buf[midI-1] < target) {
                        selected = midI;
                        break;
                    }
                    endI = midI - 1;
                }
            }
        }
        SelectedAudios.buf[SelectedAudios.len] = Keys.buf[selected];
        SelectedAudios.len += 1;

        if (e === w-1) {
            break;
        }
        e += 1;

        
        if (selected === 0) {
            sum = 0;
        } else {
            sum = Sums.buf[selected-1];
        }
        for (let i = selected; i < Sums.len-1; i += 1) {
            sum += Sums.buf[i+1] - Sums.buf[i];
            Sums.buf[i] = sum;
            Keys.buf[i] = Keys.buf[i+1];
        }
        Keys.len -= 1;
        Sums.len -= 1;
    }
    assert(w === SelectedAudios.len, `ERROR: weight: ${w}, SelectedAudios.len: ${SelectedAudios.len}`);
    return SelectedAudios;
};

const SelectionKeys = {
    len: 0,
    cap: AUDIOELEMENTS_MAX,
    buf: new Uint8Array(AUDIOELEMENTS_MAX),
};

const SelectionSums = {
    len: 0,
    cap: AUDIOELEMENTS_MAX,
    buf: new Uint32Array(AUDIOELEMENTS_MAX),
};

const randomSetSelection = function () {
    if (SetEvents.len < 2) {
        return false;
    }
    const cardinal = selectCardinal(SetEvents);
    console.info("Cardinal", cardinal);
    if (cardinal <= 0) {
        return false;
    }
    let sum = 0;
    if (cardinal === AudioList.len) {
        SelectedAudios.all = true;
    } else {
        SelectedAudios.len = 0;
        SelectedAudios.all = false;

        SelectionKeys.len = AudioList.len;
        SelectionSums.len = AudioList.len;

        for (let i = 0; i < AudioList.len; i += 1) {
            sum += AudioList.buf[i].events;
            SelectionKeys.buf[i] = i;
            SelectionSums.buf[i] = sum;
        }
        randomAudioSelection(SelectionKeys, SelectionSums, sum, cardinal);       
    }
    return true;
};

let executeTimeout = undefined;
 
const randomExecution = function (id) {
    if (Started && StartedId === id) {
        const interval = random(TimeIntervalmin, TimeIntervalmax) * 100;
        console.info("Next execution:", interval);
        console.info("AudioList", AudioList);
        if (randomSetSelection()) {
            if (SelectedAudios.all) {
                for (let i = 0; i < AudioList.len; i += 1) {
                    audioPlay(AudioList.buf[i]);
                    HtmlAppContainer.children[i].setAttribute("data-playing", "1");
                }
            } else {
                for (let i = 0; i < SelectedAudios.len; i += 1) {
                    audioPlay(AudioList.buf[i]);
                    HtmlAppContainer.children[i].setAttribute("data-playing", "1");
                }
            }
        }
        executeTimeout = setTimeout(randomExecution, interval, id);
    } else {
        console.info("END");
    }
}





const HtmlCTimemaxUpdate = function (t) {
    HtmlCTimemaxMM.textContent = timeIntervalFormat(Math.floor(t / 600));
    HtmlCTimemaxSS.textContent = timeIntervalFormat(Math.floor(t / 10) % 60);
    HtmlCTimemaxMS.textContent = String(t % 10);
};



const HtmlCTimeminUpdate = function (t) {
    HtmlCTimeminMM.textContent = timeIntervalFormat(Math.floor(t / 600));
    HtmlCTimeminSS.textContent = timeIntervalFormat(Math.floor(t / 10) % 60);
    HtmlCTimeminMS.textContent = String(t % 10);
};

const HtmlCTimeChanged = function () {
    if (TimeTemporalmax === TimeIntervalmax
        && TimeTemporalmin === TimeIntervalmin
    ) {
        HtmlCTimeContainer.setAttribute("data-changed", "0");
    } else {
        HtmlCTimeContainer.setAttribute("data-changed", "1");
    }
};



const HtmlCTimeAlert = function (target) {
    if (target.getAttribute("data-alert") === "1") {
        target.setAttribute("data-alert", "2");
    } else {
        target.setAttribute("data-alert", "1");
    }
};



const HtmlAppConfigOnclick = function (e) {
    const target = e.target;
    if ("set-reset" === target.name) {
        SetEvents.zeros = 0;
        SetEvents.max = SetEvents.cap - 1;
        if (SetEvents.len <= AudioList.len) {
            if (AudioList.len > SetEvents.max + 1) {
                SetEvents.len = SetEvents.max + 1;
            } else {
                SetEvents.len = AudioList.len + 1;
            }
        }
        SetEvents.sum = SetEvents.len;
        for (let i = 0; i < SetEvents.len; i += 1) {
            SetEvents.buf[i] = 1;
            const HtmlSet = HtmlCSets.children[i]; 
            HtmlSet.setAttribute("data-display", "1");
            HtmlSet.children[1].children["value"].textContent = "1";
            HtmlSet.children[2].children["value"].textContent = (
                (SetEvents.buf[i] / SetEvents.sum * 100).toFixed(1)
            );
        }
        HtmlCSetmax.value = String(SetEvents.max); 
    } else if ("set-left" === target.name) {
        const HtmlSet = target.parentElement.parentElement;
        if (1 === SetEvents.sum) {
            
            console.info("MUST BE AT LEAST 1 EVENT");
            return;
        }
        let i = getHtmlChildIndex(HtmlCSets, HtmlSet);
        assert(i !== -1, "ERROR gerHtmlChildIndex: there is no HtmlChild on the HtmlParent");
        assert(i < SetEvents.len);
        if (EVENTS_MIN_VALUE === SetEvents.buf[i]) {
            console.info("MIN VALUE FOUND");
            
            return;
        }
        if (EVENTS_MIN_VALUE === SetEvents.buf[i] - 1) {
            SetEvents.zeros += 1;
        }
        SetEvents.buf[i] -= 1;
        SetEvents.sum -= 1;
        target.nextElementSibling.textContent = String(SetEvents.buf[i]);
        updateHtmlCSets();

    } else if ("set-right" === target.name) {
        const HtmlSet = target.parentElement.parentElement;
        let i = getHtmlChildIndex(HtmlCSets, HtmlSet);
        assert(i !== -1, "ERROR gerHtmlChildIndex: there is no HtmlChild on the HtmlParent");
        assert(i < SetEvents.len);
        if (EVENTS_MAX_VALUE === SetEvents.buf[i]) {
            console.info("MAX VALUE FOUND");
            
            return;
        }
        if (EVENTS_MIN_VALUE === SetEvents.buf[i]) {
            SetEvents.zeros -= 1;
        }
        SetEvents.buf[i] += 1;
        SetEvents.sum += 1;
        target.previousElementSibling.textContent = String(SetEvents.buf[i]);
        updateHtmlCSets();

    } else if ("time-reset" === target.name) {
        TimeIntervalmax = DEFAULT_TIMEINTERVAL_MAX;
        TimeIntervalmin = DEFAULT_TIMEINTERVAL_MIN;
        TimeTemporalmax = DEFAULT_TIMEINTERVAL_MAX;
        TimeTemporalmin = DEFAULT_TIMEINTERVAL_MIN;
        HtmlCTimemaxUpdate(DEFAULT_TIMEINTERVAL_MAX);
        HtmlCTimeminUpdate(DEFAULT_TIMEINTERVAL_MIN);
        HtmlCTimeContainer.setAttribute("data-changed", "0");

    } else if ("time-cancel" === target.name) {
        HtmlCTimeminUpdate(TimeIntervalmin);
        HtmlCTimemaxUpdate(TimeIntervalmax);
        TimeTemporalmin = TimeIntervalmin;
        TimeTemporalmax = TimeIntervalmax;

        HtmlCTimeContainer.setAttribute("data-changed", "0");

    } else if ("time-apply" === target.name) {
        TimeIntervalmin = TimeTemporalmin;
        TimeIntervalmax = TimeTemporalmax;

        HtmlCTimeContainer.setAttribute("data-changed", "0");

    } else if ("time-max-mm-up" === target.name) {
        
        if (TimeTemporalmax + 600 > LIMIT_TIMEINTERVAL_MAX) {
            return;
        }

        HtmlCTimemaxMM.textContent = timeIntervalFormat(
            Math.floor((TimeTemporalmax + 600) / 600)
        );
        TimeTemporalmax += 600;
        HtmlCTimeChanged();

    } else if ("time-max-mm-down" === target.name) {
        
        if (TimeTemporalmax - 600 < TimeTemporalmin) {
            HtmlCTimemaxUpdate(TimeTemporalmin);
            TimeTemporalmax = TimeTemporalmin;
            HtmlCTimeAlert(HtmlCTimemin);
        } else {
            HtmlCTimemaxMM.textContent = timeIntervalFormat(
                Math.floor((TimeTemporalmax - 600) / 600)
            );
            TimeTemporalmax -= 600;
        }
        HtmlCTimeChanged();

    } else if ("time-max-ss-up" === target.name) {
        
        if (TimeTemporalmax + 10 > LIMIT_TIMEINTERVAL_MAX) {
            return;
        }
        HtmlCTimemaxMM.textContent = timeIntervalFormat(
            Math.floor((TimeTemporalmax + 10) / 600)
        );
        HtmlCTimemaxSS.textContent = timeIntervalFormat(
            Math.floor((TimeTemporalmax + 10) / 10) % 60
        );
        TimeTemporalmax += 10;
        HtmlCTimeChanged();

    } else if ("time-max-ss-down" === target.name) {
        e.preventDefault();
        
        if (TimeTemporalmax - 10 < TimeTemporalmin) {
            HtmlCTimemaxUpdate(TimeTemporalmin);
            TimeTemporalmax = TimeTemporalmin;
            HtmlCTimeAlert(HtmlCTimemin);
        } else {
            HtmlCTimemaxMM.textContent = timeIntervalFormat(
                Math.floor((TimeTemporalmax - 10) / 600)
            );
            HtmlCTimemaxSS.textContent = timeIntervalFormat(
                Math.floor((TimeTemporalmax - 10) / 10) % 60
            );
            TimeTemporalmax -= 10;
        }
        HtmlCTimeChanged();

    } else if ("time-max-ms-up" === target.name) {
        
        if (TimeTemporalmax + 1 > LIMIT_TIMEINTERVAL_MAX) {
            return;
        }
        HtmlCTimemaxUpdate(TimeTemporalmax+1);
        TimeTemporalmax += 1;
        HtmlCTimeChanged();


    } else if ("time-max-ms-down" === target.name) {
        
        if (TimeTemporalmax - 1 >= TimeTemporalmin) {
            HtmlCTimemaxUpdate(TimeTemporalmax-1);
            TimeTemporalmax -= 1;
            HtmlCTimeChanged();
        } else {
            HtmlCTimeAlert(HtmlCTimemin);
        }

    } else if ("time-min-mm-up" === target.name) {
        
        if (TimeTemporalmin + 600 > TimeTemporalmax) {
            HtmlCTimeminUpdate(TimeTemporalmax);
            TimeTemporalmin = TimeTemporalmax;
            HtmlCTimeAlert(HtmlCTimemax);
        } else {
            HtmlCTimeminMM.textContent = timeIntervalFormat(
                Math.floor((TimeTemporalmin + 600) / 600)
            );
            TimeTemporalmin += 600;
        }
        HtmlCTimeChanged();

    } else if ("time-min-mm-down" === target.name) {
        
        if (TimeTemporalmin - 600 < LIMIT_TIMEINTERVAL_MIN) {
            return;
        }
        HtmlCTimeminMM.textContent = timeIntervalFormat(
            Math.floor((TimeTemporalmin - 600) / 600)
        );
        TimeTemporalmin -= 600;
        HtmlCTimeChanged();

    } else if ("time-min-ss-up" === target.name) {
        
        if (TimeTemporalmin + 10 > TimeTemporalmax) {
            HtmlCTimeminUpdate(TimeTemporalmax);
            TimeTemporalmin = TimeTemporalmax;
            HtmlCTimeAlert(HtmlCTimemax);
        } else {
            HtmlCTimeminMM.textContent = timeIntervalFormat(
                Math.floor((TimeTemporalmin + 10) / 600)
            );
            HtmlCTimeminSS.textContent = timeIntervalFormat(
                Math.floor((TimeTemporalmin + 10) / 10) % 60
            );
            TimeTemporalmin += 10;
        }
        HtmlCTimeChanged();


    } else if ("time-min-ss-down" === target.name) {
        
        if (TimeTemporalmin - 10 < LIMIT_TIMEINTERVAL_MIN) {
            return;
        }
        HtmlCTimeminMM.textContent = timeIntervalFormat(
            Math.floor((TimeTemporalmin - 10) / 600)
        );
        HtmlCTimeminSS.textContent = timeIntervalFormat(
            Math.floor((TimeTemporalmin - 10) / 10) % 60
        );
        TimeTemporalmin -= 10;
        HtmlCTimeChanged();

    } else if ("time-min-ms-up" === target.name) {
        
        if (TimeTemporalmin + 1 <= TimeTemporalmax) {
            HtmlCTimeminUpdate(TimeTemporalmin+1);
            TimeTemporalmin += 1;
            HtmlCTimeChanged();
        } else {
            HtmlCTimeAlert(HtmlCTimemax);
        }

    } else if ("time-min-ms-down" === target.name) {
        
        if (TimeTemporalmin - 1 < LIMIT_TIMEINTERVAL_MIN) {
            return;
        }
        HtmlCTimeminUpdate(TimeTemporalmin-1);
        TimeTemporalmin -= 1;
        HtmlCTimeChanged();

    } else if ("fades-reset" === target.name) {
        HtmlCFadein.firstElementChild.valueAsNumber = DEFAULT_FADEIN;
        HtmlCFadein.lastElementChild.children["value"].textContent = String(
            getFade(DEFAULT_FADEIN)
        );
        HtmlCFadeout.firstElementChild.valueAsNumber = DEFAULT_FADEOUT;
        HtmlCFadeout.lastElementChild.children["value"].textContent = String(
            getFade(DEFAULT_FADEOUT)
        );
        FadeIn = DEFAULT_FADEIN;
        FadeOut = DEFAULT_FADEOUT;

    } else if ("delay-reset" === target.name) {
        HtmlCDelayTimemin.firstElementChild.valueAsNumber = (
            DEFAULT_DELAY_TIMEMIN
        );
        HtmlCDelayTimemin.lastElementChild.children["value"].textContent = (
            getDelayTime(DEFAULT_DELAY_TIMEMIN).toFixed(1)
        );
        HtmlCDelayTimemax.firstElementChild.valueAsNumber = (
            LIMIT_DELAY_TIMEMAX - DEFAULT_DELAY_TIMEMAX
        );
        HtmlCDelayTimemax.lastElementChild.children["value"].textContent = (
            getDelayTime(DEFAULT_DELAY_TIMEMAX).toFixed(1)
        );
        HtmlCDelayFeedbackmin.firstElementChild.valueAsNumber = (
            DEFAULT_DELAY_FEEDBACKMIN
        );
        HtmlCDelayFeedbackmin.lastElementChild.children["value"].textContent = String(
            getDelayFeedback(DEFAULT_DELAY_FEEDBACKMIN)
        );
        HtmlCDelayFeedbackmax.firstElementChild.valueAsNumber = (
            LIMIT_DELAY_FEEDBACKMAX - DEFAULT_DELAY_FEEDBACKMAX
        );
        HtmlCDelayFeedbackmax.lastElementChild.children["value"].textContent = String(
            getDelayFeedback(DEFAULT_DELAY_FEEDBACKMAX)
        );
        DelayTimemax = DEFAULT_DELAY_TIMEMAX;
        DelayTimemin = DEFAULT_DELAY_TIMEMIN;
        DelayFeedbackmax = DEFAULT_DELAY_FEEDBACKMAX;
        DelayFeedbackmin = DEFAULT_DELAY_FEEDBACKMIN;

    } else if ("filter-reset" === target.name) {
        HtmlCFilterFreqmin.firstElementChild.valueAsNumber = (
            DEFAULT_FILTER_FREQMIN
        );
        HtmlCFilterFreqmin.lastElementChild.children["value"].textContent = String(
            getFilterFreq(DEFAULT_FILTER_FREQMIN)
        );
        HtmlCFilterFreqmax.firstElementChild.valueAsNumber = (
            LIMIT_FILTER_FREQMAX - DEFAULT_FILTER_FREQMAX
        );
        HtmlCFilterFreqmax.lastElementChild.children["value"].textContent = String(
            getFilterFreq(DEFAULT_FILTER_FREQMAX)
        );
        HtmlCFilterQmin.firstElementChild.valueAsNumber = DEFAULT_FILTER_QMIN;
        HtmlCFilterQmin.lastElementChild.children["value"].textContent = String(
            getFilterQ(DEFAULT_FILTER_QMIN)
        );
        HtmlCFilterQmax.firstElementChild.valueAsNumber = (
            LIMIT_FILTER_QMAX - DEFAULT_FILTER_QMAX
        );
        HtmlCFilterQmax.lastElementChild.children["value"].textContent = String(
            getFilterQ(DEFAULT_FILTER_QMAX)
        );
        let elements = HtmlCFilterEffects.elements;
        elements["filter-bandpass"].checked = DEFAULT_FILTER_BANDPASS;
        elements["filter-highpass"].checked = DEFAULT_FILTER_HIGHPASS;
        elements["filter-lowpass"].checked = DEFAULT_FILTER_LOWPASS;
        elements["filter-notch"].checked = DEFAULT_FILTER_NOTCH;

        FilterFreqmax = DEFAULT_FILTER_FREQMAX;
        FilterFreqmin = DEFAULT_FILTER_FREQMIN;
        FilterQmax = DEFAULT_FILTER_QMAX;
        FilterQmin = DEFAULT_FILTER_QMIN;
        FilterBandpass = DEFAULT_FILTER_BANDPASS;
        FilterHighpass = DEFAULT_FILTER_HIGHPASS;
        FilterLowpass = DEFAULT_FILTER_LOWPASS;
        FilterNotch = DEFAULT_FILTER_NOTCH;

    } else if ("panner-reset" === target.name) {
        HtmlCPannerXmin.firstElementChild.valueAsNumber = DEFAULT_PANNER_XMIN;
        HtmlCPannerXmin.lastElementChild.children["value"].textContent = String(
            getPanner(DEFAULT_PANNER_XMIN)
        );
        HtmlCPannerXmax.firstElementChild.valueAsNumber = (
            LIMIT_PANNER_MAX - DEFAULT_PANNER_XMAX
        );
        HtmlCPannerXmax.lastElementChild.children["value"].textContent = String(
            getPanner(DEFAULT_PANNER_XMAX)
        );
        HtmlCPannerYmin.firstElementChild.valueAsNumber = DEFAULT_PANNER_YMIN;
        HtmlCPannerYmin.lastElementChild.children["value"].textContent = String(
            getPanner(DEFAULT_PANNER_YMIN)
        );
        HtmlCPannerYmax.firstElementChild.valueAsNumber = (
            LIMIT_PANNER_MAX - DEFAULT_PANNER_YMAX
        );
        HtmlCPannerYmax.lastElementChild.children["value"].textContent = String(
            getPanner(DEFAULT_PANNER_YMAX)
        );
        HtmlCPannerZmin.firstElementChild.valueAsNumber = DEFAULT_PANNER_ZMIN;
        HtmlCPannerZmin.lastElementChild.children["value"].textContent = String(
            DEFAULT_PANNER_ZMIN
        );
        HtmlCPannerZmax.firstElementChild.valueAsNumber = (
            LIMIT_PANNER_ZMAX - DEFAULT_PANNER_ZMAX
        );
        HtmlCPannerZmax.lastElementChild.children["value"].textContent = String(
            DEFAULT_PANNER_ZMAX
        );
        PannerXmax = DEFAULT_PANNER_XMAX;
        PannerXmin = DEFAULT_PANNER_XMIN;
        PannerYmax = DEFAULT_PANNER_YMAX;
        PannerYmin = DEFAULT_PANNER_YMIN;
        PannerZmax = DEFAULT_PANNER_ZMAX;
        PannerZmin = DEFAULT_PANNER_ZMIN;

    } else if ("pbrate-reset" === target.name) {
        HtmlCPbrateMin.firstElementChild.valueAsNumber = DEFAULT_PBRATE_MIN;
        HtmlCPbrateMin.lastElementChild.children["value"].textContent = (
            getPlaybackRate(DEFAULT_PBRATE_MIN).toFixed(2)
        );
        HtmlCPbrateMax.firstElementChild.valueAsNumber = (
            LIMIT_PBRATE_MAX - DEFAULT_PBRATE_MAX
        );
        HtmlCPbrateMax.lastElementChild.children["value"].textContent = (
            getPlaybackRate(DEFAULT_PBRATE_MAX).toFixed(2)
        );
        PbRatemin = DEFAULT_PBRATE_MIN;
        PbRatemax = DEFAULT_PBRATE_MAX;
    }
};



const HtmlAppConfigOninput = function (e) {
    const target = e.target;
    if ("set-max" === target.name) {
        const value = Number(target.value);
        if (value === SetEvents.max) {
            return;
        }
        assert(0 < value && value < SetEvents.cap);
        let max = 0;
        if (value < SetEvents.max) {
            if (AudioList.len < SetEvents.max) {
                max = AudioList.len;
            } else {
                max = SetEvents.max;
            }
            for (let i = value + 1; i < max + 1; i += 1) {
                const HtmlSet = HtmlCSets.children[i]; 
                HtmlSet.setAttribute("data-display", "0"); 
                SetEvents.sum -= SetEvents.buf[i];
            }
            if (value < max) {
                SetEvents.len -= max - value; 
            }
        } else {
            if (AudioList.len < value) {
                max = AudioList.len;
            } else {
                max = value;
            }
            for (let i = SetEvents.max + 1; i < max + 1; i += 1) {
                const HtmlSet = HtmlCSets.children[i]; 
                HtmlSet.setAttribute("data-display", "1"); 
                HtmlSet.children[1].children["value"].textContent = "1";
                SetEvents.buf[i] = 1;
            }
            if (SetEvents.max < max) {
                SetEvents.len += max - SetEvents.max; 
                SetEvents.sum += max - SetEvents.max;
            }
        }
        SetEvents.max = value;
        updateHtmlCSets();

    } else if ("fadein" === target.name) {
        FadeIn = target.valueAsNumber;
        HtmlCFadein.lastElementChild.children["value"].textContent = String(
            getFade(target.valueAsNumber)
        );

    } else if ("fadeout" === target.name) {
        FadeOut = target.valueAsNumber;
        HtmlCFadeout.lastElementChild.children["value"].textContent = String(
            getFade(target.valueAsNumber)
        );

    } else if ("delay-da" === target.name) {
        DelayAreAllDisable = target.checked;
        if (AudioList.len < 0) {
            return;
        }
        for (let i = 0; i < AudioList.len; i += 1) {
            const HtmlAudioElement = HtmlAppContainer.children[i];
            const state = AudioList.get(i);
            state.delayDisabled = target.checked;
            HtmlAudioElement.appDelay.checked = !target.checked;
        }

    } else if ("delay-timemin" === target.name) {
        if (target.valueAsNumber > DelayTimemax) {
            target.valueAsNumber = DelayTimemax;
        }
        DelayTimemin = target.valueAsNumber;
        HtmlCDelayTimemin.lastElementChild.children["value"].textContent = (
            getDelayTime(DelayTimemin).toFixed(1)
        );

    } else if ("delay-timemax" === target.name) {
        if (DelayTimemin > LIMIT_DELAY_TIMEMAX - target.valueAsNumber) {
            target.valueAsNumber = LIMIT_DELAY_TIMEMAX - DelayTimemin;
        }
        DelayTimemax = LIMIT_DELAY_TIMEMAX - target.valueAsNumber;
        HtmlCDelayTimemax.lastElementChild.children["value"].textContent = (
            getDelayTime(DelayTimemax).toFixed(1)
        );

    } else if ("delay-feedbackmin" === target.name) {
        if (target.valueAsNumber > DelayFeedbackmax) {
            target.valueAsNumber = DelayFeedbackmax;
        }
        DelayFeedbackmin = target.valueAsNumber;
        HtmlCDelayFeedbackmin.lastElementChild.children["value"].textContent = String(
            getDelayFeedback(DelayFeedbackmin)
        );

    } else if ("delay-feedbackmax" === target.name) {
        if (DelayFeedbackmin > LIMIT_DELAY_FEEDBACKMAX - target.valueAsNumber) {
            target.valueAsNumber = LIMIT_DELAY_FEEDBACKMAX - DelayFeedbackmin;
        }
        DelayFeedbackmax = LIMIT_DELAY_FEEDBACKMAX - target.valueAsNumber;
        HtmlCDelayFeedbackmax.lastElementChild.children["value"].textContent = String(
            getDelayFeedback(DelayFeedbackmax)
        );

    } else if ("filter-da" === target.name) {
        FilterAreAllDisable = target.checked;
        if (AudioList.len < 0) {
            return;
        }
        for (let i = 0; i < AudioList.len; i += 1) {
            const HtmlAudioElement = HtmlAppContainer.children[i];
            const state = AudioList.get(i);
            state.filterDisabled = target.checked;
            HtmlAudioElement.appFilter.checked = !target.checked;
        }

    } else if ("filter-freqmin" === target.name) {
        if (target.valueAsNumber > FilterFreqmax) {
            target.valueAsNumber = FilterFreqmax;
        }
        FilterFreqmin = target.valueAsNumber;
        HtmlCFilterFreqmin.lastElementChild.children["value"].textContent = String(
            getFilterFreq(FilterFreqmin)
        );

    } else if ("filter-freqmax" === target.name) {
        if (FilterFreqmin > LIMIT_FILTER_FREQMAX - target.valueAsNumber) {
            target.valueAsNumber = LIMIT_FILTER_FREQMAX - FilterFreqmin;
        }
        FilterFreqmax = LIMIT_FILTER_FREQMAX - target.valueAsNumber;
        HtmlCFilterFreqmax.lastElementChild.children["value"].textContent = String(
            getFilterFreq(FilterFreqmax)
        );

    } else if ("filter-qmin" === target.name) {
        if (target.valueAsNumber > FilterQmax) {
            target.valueAsNumber = FilterQmax;
        }
        FilterQmin = target.valueAsNumber;
        HtmlCFilterQmin.lastElementChild.children["value"].textContent = String(
            getFilterQ(FilterQmin)
        );

    } else if ("filter-qmax" === target.name) {
        if (FilterQmin > LIMIT_FILTER_QMAX - target.valueAsNumber) {
            target.valueAsNumber = LIMIT_FILTER_QMAX - FilterQmin;
        }
        FilterQmax = LIMIT_FILTER_QMAX - target.valueAsNumber;
        HtmlCFilterQmax.lastElementChild.children["value"].textContent = String(
            getFilterQ(FilterQmax)
        );

    } else if ("filter-highpass" === target.name) {
        if (FilterHighpass
            && !FilterLowpass
            && !FilterBandpass
            && !FilterNotch
        ) {
            target.checked = true;
        }
        FilterHighpass = target.checked;

    } else if ("filter-lowpass" === target.name) {
        if (FilterLowpass
            && !FilterHighpass
            && !FilterBandpass
            && !FilterNotch
        ) {
            target.checked = true;
        }
        FilterLowpass = target.checked;

    } else if ("filter-bandpass" === target.name) {
        if (FilterBandpass
            && !FilterLowpass
            && !FilterHighpass
            && !FilterNotch
        ) {
            target.checked = true;
        }
        FilterBandpass = target.checked;

    } else if ("filter-notch" === target.name) {
        if (FilterNotch
            && !FilterLowpass
            && !FilterBandpass
            && !FilterHighpass
        ) {
            target.checked = true;
        }
        FilterNotch = target.checked;

    } else if ("panner-da" === target.name) {
        PannerAreAllDisable = target.checked;
        if (AudioList.len < 0) {
            return;
        }
        for (let i = 0; i < AudioList.len; i += 1) {
            const HtmlAudioElement = HtmlAppContainer.children[i];
            const state = AudioList.get(i);
            state.pannerDisabled = target.checked;
            HtmlAudioElement.appPanner.checked = !target.checked;
        }

    } else if ("panner-xmin" === target.name) {
        if (target.valueAsNumber > PannerXmax) {
            target.valueAsNumber = PannerXmax;
        }
        PannerXmin = target.valueAsNumber;
        HtmlCPannerXmin.lastElementChild.children["value"].textContent = String(
            getPanner(PannerXmin)
        );

    } else if ("panner-xmax" === target.name) {
        if (PannerXmin > LIMIT_PANNER_MAX - target.valueAsNumber) {
            target.valueAsNumber = LIMIT_PANNER_MAX - PannerXmin;
        }
        PannerXmax = LIMIT_PANNER_MAX - target.valueAsNumber;
        HtmlCPannerXmax.lastElementChild.children["value"].textContent = String(
            getPanner(PannerXmax)
        );

    } else if ("panner-ymin" === target.name) {
        if (target.valueAsNumber > PannerYmax) {
            target.valueAsNumber = PannerYmax;
        }
        PannerYmin = target.valueAsNumber;
        HtmlCPannerYmin.lastElementChild.children["value"].textContent = String(
            getPanner(PannerYmin)
        );

    } else if ("panner-ymax" === target.name) {
        if (PannerYmin > LIMIT_PANNER_MAX - target.valueAsNumber) {
            target.valueAsNumber = LIMIT_PANNER_MAX - PannerYmin;
        }
        PannerYmax = LIMIT_PANNER_MAX - target.valueAsNumber;
        HtmlCPannerYmax.lastElementChild.children["value"].textContent = String(
            getPanner(PannerYmax)
        );

    } else if ("panner-zmin" === target.name) {
        if (target.valueAsNumber > PannerZmax) {
            target.valueAsNumber = PannerZmax;
        }
        PannerZmin = target.valueAsNumber;
        HtmlCPannerZmin.lastElementChild.children["value"].textContent = String(PannerZmin);

    } else if ("panner-zmax" === target.name) {
        if (PannerZmin > LIMIT_PANNER_ZMAX - target.valueAsNumber) {
            target.valueAsNumber = LIMIT_PANNER_ZMAX - PannerZmin;
        }
        PannerZmax = LIMIT_PANNER_ZMAX - target.valueAsNumber;
        HtmlCPannerZmax.lastElementChild.children["value"].textContent = String(PannerZmax);

    } else if ("pbrate-da" === target.name) {
        PbRateAreAllDisable = target.checked;
        if (AudioList.len < 0) {
            return;
        }
        for (let i = 0; i < AudioList.len; i += 1) {
            const HtmlAudioElement = HtmlAppContainer.children[i];
            const state = AudioList.get(i);
            state.pbrateDisabled = target.checked;
            HtmlAudioElement.appPbrate.checked = !target.checked;
        }

    } else if ("pbrate-min" === target.name) {
        if (target.valueAsNumber > PbRatemax) {
            target.valueAsNumber = PbRatemax;
        }
        PbRatemin = target.valueAsNumber;
        HtmlCPbrateMin.lastElementChild.children["value"].textContent = (
            getPlaybackRate(PbRatemin).toFixed(2)
        );

    } else if ("pbrate-max" === target.name) {
        if (PbRatemin > LIMIT_PBRATE_MAX - target.valueAsNumber) {
            target.valueAsNumber = LIMIT_PBRATE_MAX - PbRatemin;
        }
        PbRatemax = LIMIT_PBRATE_MAX - target.valueAsNumber;
        HtmlCPbrateMax.lastElementChild.children["value"].textContent = (
            getPlaybackRate(PbRatemax).toFixed(2)
        );

    } else if ("rsp-da" === target.name) {
        CutRSPAreAllDisable = target.checked;
        if (AudioList.len < 0) {
            return;
        }
        for (let i = 0; i < AudioList.len; i += 1) {
            const HtmlAudioElement = HtmlAppContainer.children[i];
            const state = AudioList.get(i);
            state.rspDisabled = target.checked;
            HtmlAudioElement.appRSP.checked = !target.checked;
        }

    } else if ("rep-da" === target.name) {
        CutREPAreAllDisable = target.checked;
        if (AudioList.len < 0) {
            return;
        }
        for (let i = 0; i < AudioList.len; i += 1) {
            const HtmlAudioElement = HtmlAppContainer.children[i];
            const state = AudioList.get(i);
            state.repDisabled = target.checked;
            HtmlAudioElement.appREP.checked = !target.checked;
        }
    }
};

const HtmlAppMenuOnclick = function (e) {
    const target = e.target;
    if ("start" === target.name) {
        let dataStart = target.getAttribute("data-start");
        if (dataStart === "0") {
            Started = true;
            StartedId = startedIdNext(); 
            randomExecution(StartedId);
            target.setAttribute("data-start", "1");
        } else {
            Started = false;
            if (undefined !== executeTimeout) {
                clearTimeout(executeTimeout);
                executeTimeout = undefined;
            }
            for (let i = 0; i < AudioList.len; i += 1) {
                audioPause(AudioList.buf[i]);
                HtmlAppContainer.children[i].setAttribute("data-playing", "0");
            }
            target.setAttribute("data-start", "0");
        }
    } else if ("clear" === target.name) {
        if (AudioList.len === 0) {
            return;
        }

        for (let i = 1; i < SetEvents.len; i += 1) {
            const HtmlSet = HtmlCSets.children[i];
            HtmlSet.setAttribute("data-display", "0"); 
        }
        SetEvents.zeros = 0;    
        SetEvents.sum = 1;
        SetEvents.len = 1;

        for (let audio of AudioList.buf) {
            audioPause(audio);
            AudioList.makeZombi(audio)
        }
        AudioList.len = 0;
        HtmlAudioZombis.append.apply(
            HtmlAudioZombis,
            HtmlAppContainer.children
        );
        timeoutFree = setTimeout(timeoutFreeFn,FREE_TIME);

    } else if ("file" === target.name) {
        target.value = "";
    } else if ("config" === target.name) {
        if (target.checked) {
            HtmlAppConfig.setAttribute("data-show", "1");
        } else {
            HtmlAppConfig.setAttribute("data-show", "0");
        }
    }
};

const HtmlAppMenuOninput = function (e) {
    const target = e.target;
    if (target.name === "file") {
        addFiles(target.files);
    }
};


const HtmlAppContainerOnclick = function (e) {
    const target = e.target;
    if ("play" === target.name) {
        const HtmlAudioElement = target.parentElement.parentElement;
        let i = getHtmlChildIndex(HtmlAppContainer, HtmlAudioElement);
        console.info("audio #",i);
        if (HtmlAudioElement.getAttribute("data-playing") === "0") {
            HtmlAudioElement.setAttribute("data-playing", "1");
            audioAction(i, "play");
        } else {
            HtmlAudioElement.setAttribute("data-playing", "0");
            audioAction(i, "pause");
        }
    } else if ("remove" === target.name) {
        const HtmlAudioElement = target.parentElement.parentElement;
        let i = getHtmlChildIndex(HtmlAppContainer, HtmlAudioElement);
        audioAction(i, "remove");
        HtmlAudioZombis.appendChild(HtmlAudioElement);

        if (AudioList.len < SetEvents.max) {
            const HtmlSet = HtmlCSets.children[SetEvents.len-1];
            HtmlSet.setAttribute("data-display", "0"); 
            if (0 === SetEvents.buf[SetEvents.len-1]) {
                SetEvents.zeros -= 1;
            } else {
                SetEvents.sum -= SetEvents.buf[SetEvents.len-1];
            }
            SetEvents.len -= 1;
            updateHtmlCSets();
        }

        
        HtmlAudioElement.setAttribute("data-playing", "0");
        HtmlAudioElement.appDelay.checked = !DelayAreAllDisable;
        HtmlAudioElement.appFilter.checked = !FilterAreAllDisable;
        HtmlAudioElement.appPanner.checked = !PannerAreAllDisable;
        HtmlAudioElement.appPbrate.checked = !PbRateAreAllDisable;
        HtmlAudioElement.appRSP.checked = !CutRSPAreAllDisable;
        HtmlAudioElement.appREP.checked = !CutREPAreAllDisable;

        timeoutFree = setTimeout(timeoutFreeFn,FREE_TIME);
    }
};

const HtmlAppContainerOninput = function (e) {
    const target = e.target;
    if ("volume" === target.name) {
        const HtmlAudioElement = (
            target
            .parentElement
            .parentElement
            .parentElement
        );
        let i = getHtmlChildIndex(
            HtmlAppContainer,
            HtmlAudioElement
        );
        const state = AudioList.get(i);
        assert(state !== undefined, "ERROR undefined state: on volume");

        if (target.valueAsNumber < LIMIT_VOLUME_MIN) {
            target.valueAsNumber = LIMIT_VOLUME_MIN;
            state.input.gain.value = LIMIT_VOLUME_MIN;
        } else if (target.valueAsNumber  > LIMIT_VOLUME_MAX) {
            target.valueAsNumber = LIMIT_VOLUME_MAX;
            state.input.gain.value = LIMIT_VOLUME_MAX;
        } else {
            state.input.gain.value = target.valueAsNumber;
        }

    } else if ("delay" === target.name) {
        const HtmlAudioElement = (
            target
            .parentElement
            .parentElement
            .parentElement
            .parentElement
        );
        let i = getHtmlChildIndex(HtmlAppContainer, HtmlAudioElement);
        const state = AudioList.get(i);
        assert(state !== undefined, "ERROR undefined state: on delay input");

        state.delayDisabled = !target.checked;
        if (DelayAreAllDisable && target.checked) {
            DelayAreAllDisable = false;
            HtmlCDelayDA.checked = false;
        }

    } else if ("filter" === target.name) {
        const HtmlAudioElement = (
            target
            .parentElement
            .parentElement
            .parentElement
            .parentElement
        );
        let i = getHtmlChildIndex(HtmlAppContainer, HtmlAudioElement);
        const state = AudioList.get(i);
        assert(state !== undefined, "ERROR undefined state: on filter input");

        state.filterDisabled = !target.checked;
        if (FilterAreAllDisable && target.checked) {
            FilterAreAllDisable = false;
            HtmlCFilterDA.checked = false;
        }

    } else if ("panner" === target.name) {
        const HtmlAudioElement = (
            target
            .parentElement
            .parentElement
            .parentElement
            .parentElement
        );
        let i = getHtmlChildIndex(HtmlAppContainer, HtmlAudioElement);
        const state = AudioList.get(i);
        assert(state !== undefined, "ERROR undefined state: on panner input");

        state.pannerDisabled = !target.checked;
        if (PannerAreAllDisable && target.checked) {
            PannerAreAllDisable = false;
            HtmlCPannerDA.checked = false;
        }

    } else if ("pbrate" === target.name) {
        const HtmlAudioElement = (
            target
            .parentElement
            .parentElement
            .parentElement
            .parentElement
        );
        let i = getHtmlChildIndex(HtmlAppContainer, HtmlAudioElement);
        const state = AudioList.get(i);
        assert(state !== undefined, "ERROR undefined state: on pbrate input");

        state.pbrateDisabled = !target.checked;
        if (PbRateAreAllDisable && target.checked) {
            PbRateAreAllDisable = false;
            HtmlCPbrateDA.checked = false;
        }

    } else if ("RSP" === target.name) {
        const HtmlAudioElement = (
            target
            .parentElement
            .parentElement
            .parentElement
            .parentElement
        );
        let i = getHtmlChildIndex(HtmlAppContainer, HtmlAudioElement);
        const state = AudioList.get(i);
        assert(state !== undefined, "ERROR undefined state: on rsp input");

        state.rspDisabled = !target.checked;
        if (CutRSPAreAllDisable && target.checked) {
            CutRSPAreAllDisable = false;
            HtmlCRSPDA.checked = false;
        }

    } else if ("REP" === target.name) {
        const HtmlAudioElement = (
            target
            .parentElement
            .parentElement
            .parentElement
            .parentElement
        );
        let i = getHtmlChildIndex(HtmlAppContainer, HtmlAudioElement);
        const state = AudioList.get(i);
        assert(state !== undefined, "ERROR undefined state: on rep input");
        state.repDisabled = !target.checked;
        if (CutREPAreAllDisable && target.checked) {
            CutREPAreAllDisable = false;
            HtmlCREPDA.checked = false;
        }
    }
};




 
const checkAppVersion = function (v) {
    let res = true;
    if (localStorage.getItem("version") !== v) {
        localStorage.clear();
        localStorage.setItem("version", v);
        res = false;
    }
    return res;
};

const HtmlPresOpenOnclick = function () {
    document.body.removeEventListener("keydown", BodyOnkeydown);
    const HtmlMain = document.getElementById("main");
    assert(HtmlMain !== null, "#main is not found");
    HtmlMain.setAttribute("data-app", "1");

    
    context = new AudioContext({
        latencyHint: "playback",
        sampleRate: 44100
    });
    context?.resume();
    if (context.listener.positionX) {
        context.listener.positionX.value = 0;
        context.listener.positionY.value = 0;
        context.listener.positionZ.value = 1;
        context.listener.forwardZ.value = -5;
    } else {
        context.listener.setPosition(0, 0, 1);
        context.listener.setOrientation(0, 0, -5, 0 ,1, 0);
    }
};



const checkAudioContext = function () {
    let res = true;
    const HtmlPresLoading = document.getElementById("presentation-loading");
    assert(HtmlPresLoading !== null, "#presentation-loading is not found");

    const HtmlPresError = document.getElementById("presentation-error");
    assert(HtmlPresError !== null, "#presentation-error is not found");

    const HtmlPresOpen = document.getElementById("presentation-open");
    assert(HtmlPresOpen !== null, "#presentation-open is not found");


    if (undefined === AudioContext) {
        res = false;
        HtmlPresLoading.setAttribute("data-css-hidden", "");
        HtmlPresError.removeAttribute("data-css-hidden");
    } else {
        
        HtmlPresLoading.setAttribute("data-css-hidden", "");
        HtmlPresOpen.removeAttribute("data-css-hidden");

        HtmlPresOpen.addEventListener("click", HtmlPresOpenOnclick, EVENT_CO);
    }
    return res;
};

const BodyOnkeydown = function (e) {
    const target = e.target;
    if ("button" !== target.localName
        && "a" !== target.localName
        && "Enter" === e.key
    ) {
        const HtmlPresOpen = document.getElementById("presentation-open");
        HtmlPresOpen.click();
    }
};

const main = function () {
    if (!checkAudioContext()) {
        return;
    }
    document.body.addEventListener("keydown", BodyOnkeydown, false);

    
    HtmlApp.addEventListener("dragenter", function () {
        HtmlAppDrop.removeAttribute("data-css-hidden");
    }, true);

    HtmlAppDrop.addEventListener("dragleave", function () {
        HtmlAppDrop.setAttribute("data-css-hidden", "");
    }, true);


    HtmlAppDrop.addEventListener("dragover", function (e) {
        e.preventDefault();
    }, true);

    HtmlAppDrop.addEventListener("drop", function (e) {
        e.preventDefault();
        HtmlAppDrop.setAttribute("data-css-hidden", "");
        addFiles(e.dataTransfer.files);
    }, true);

    HtmlAppMenu.addEventListener("click", HtmlAppMenuOnclick, false);
    HtmlAppMenu.addEventListener("input", HtmlAppMenuOninput, false);

    HtmlAppConfig.addEventListener("click", HtmlAppConfigOnclick, false);
    HtmlAppConfig.addEventListener("input", HtmlAppConfigOninput, false);

    HtmlAppContainer.addEventListener("click", HtmlAppContainerOnclick, false);
    HtmlAppContainer.addEventListener("input", HtmlAppContainerOninput, false);
};
main();
</script>
        

        <template id="t-audio-element">
            <div class="audio"
                data-playing="0"
            >
                <section class="top">
                    <button class="button-with-icon"
                        name="play"
                    >
                        <svg xmlns="http://www.w3.org/2000/svg"
                            width="24" height="24"
                            viewBox="0 0 24 24"
                            fill="none"
                            stroke="currentColor"
                            stroke-width="2"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            class="icon lucide-play"
                        >
                            <polygon points="6 3 20 12 6 21 6 3"/>
                        </svg>
                        <p class="sr-only lucide-play">play</p>
                        <svg xmlns="http://www.w3.org/2000/svg"
                            width="24" height="24"
                            viewBox="0 0 24 24"
                            fill="none"
                            stroke="currentColor"
                            stroke-width="2"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            class="icon lucide-pause"
                        >
                            <rect x="14" y="4" width="4" height="16" rx="1"/>
                            <rect x="6" y="4" width="4" height="16" rx="1"/>
                        </svg>
                        <p class="sr-only lucide-pause">pause</p>
                    </button>
                    <h3 class="title" name="title"></h3>
                    <label class="volume" name="volume">
                        <svg xmlns="http://www.w3.org/2000/svg"
                            width="24" height="24"
                            viewBox="0 0 24 24"
                            fill="none"
                            stroke="currentColor"
                            stroke-width="2"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            class="icon lucide-volume-2"
                        >
                            <path d="M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z"/>
                            <path d="M16 9a5 5 0 0 1 0 6"/>
                            <path d="M19.364 18.364a9 9 0 0 0 0-12.728"/>
                        </svg>
                        <input type="range"
                            min="0"
                            max="1"
                            step="0.1"
                            value="0.8"
                            name="volume"
                        >
                    </label>
                    <button class="button-with-icon"
                        name="remove"
                    >
                        <svg xmlns="http://www.w3.org/2000/svg"
                            width="24" height="24"
                            viewBox="0 0 24 24"
                            fill="none"
                            stroke="currentColor"
                            stroke-width="2"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            class="icon lucide-x"
                        >
                            <path d="M18 6 6 18"/>
                            <path d="m6 6 12 12"/>
                        </svg>
                    </button>
                </section>
                <section class="bottom">
                    <fieldset name="effects" class="checkboxes">
                        <label class="checkbox">
                            <input type="checkbox"
                                name="delay"
                                class="hidde-interactive"
                                checked
                            >
                            <span class="button">
                                <svg xmlns="http://www.w3.org/2000/svg"
                                    width="24" height="24"
                                    viewBox="0 0 24 24"
                                    fill="currentColor"
                                    stroke="currentColor"
                                    stroke-width="2"
                                    stroke-linecap="round"
                                    stroke-linejoin="round"
                                    class="icon-checkbox lucide-square"
                                >
                                    <rect width="18" height="18" x="3" y="3" rx="2"/>
                                </svg>
                                <span>delay</span>
                            </span>
                        </label>
                        <label class="checkbox">
                            <input type="checkbox"
                                name="filter"
                                class="hidde-interactive"
                                checked
                            >
                            <span class="button">
                                <svg xmlns="http://www.w3.org/2000/svg"
                                    width="24" height="24"
                                    viewBox="0 0 24 24"
                                    fill="currentColor"
                                    stroke="currentColor"
                                    stroke-width="2"
                                    stroke-linecap="round"
                                    stroke-linejoin="round"
                                    class="icon-checkbox lucide-square"
                                >
                                    <rect width="18" height="18" x="3" y="3" rx="2"/>
                                </svg>
                                <span>filter</span>
                            </span>
                        </label>
                        <label class="checkbox">
                            <input type="checkbox"
                                name="panner"
                                class="hidde-interactive"
                                checked
                            >
                            <span class="button">
                                <svg xmlns="http://www.w3.org/2000/svg"
                                    width="24" height="24"
                                    viewBox="0 0 24 24"
                                    fill="currentColor"
                                    stroke="currentColor"
                                    stroke-width="2"
                                    stroke-linecap="round"
                                    stroke-linejoin="round"
                                    class="icon-checkbox lucide-square"
                                >
                                    <rect width="18" height="18" x="3" y="3" rx="2"/>
                                </svg>
                                <span>panner</span>
                            </span>
                        </label>
                        <label class="checkbox">
                            <input type="checkbox"
                                name="pbrate"
                                class="hidde-interactive"
                                checked
                            >
                            <span class="button">
                                <svg xmlns="http://www.w3.org/2000/svg"
                                    width="24" height="24"
                                    viewBox="0 0 24 24"
                                    fill="currentColor"
                                    stroke="currentColor"
                                    stroke-width="2"
                                    stroke-linecap="round"
                                    stroke-linejoin="round"
                                    class="icon-checkbox lucide-square"
                                >
                                    <rect width="18" height="18" x="3" y="3" rx="2"/>
                                </svg>
                                <span>pb rate</span>
                            </span>
                        </label>
                        <label class="checkbox">
                            <input type="checkbox"
                                name="RSP"
                                class="hidde-interactive"
                                checked
                            >
                            <span class="button">
                                <svg xmlns="http://www.w3.org/2000/svg"
                                    width="24" height="24"
                                    viewBox="0 0 24 24"
                                    fill="currentColor"
                                    stroke="currentColor"
                                    stroke-width="2"
                                    stroke-linecap="round"
                                    stroke-linejoin="round"
                                    class="icon-checkbox lucide-square"
                                >
                                    <rect width="18" height="18" x="3" y="3" rx="2"/>
                                </svg>
                                <span>RSP</span>
                            </span>
                        </label>
                        <label class="checkbox">
                            <input type="checkbox"
                                name="REP"
                                class="hidde-interactive"
                                checked
                            >
                            <span class="button">
                                <svg xmlns="http://www.w3.org/2000/svg"
                                    width="24" height="24"
                                    viewBox="0 0 24 24"
                                    fill="currentColor"
                                    stroke="currentColor"
                                    stroke-width="2"
                                    stroke-linecap="round"
                                    stroke-linejoin="round"
                                    class="icon-checkbox lucide-square"
                                >
                                    <rect width="18" height="18" x="3" y="3" rx="2"/>
                                </svg>
                                <span>REP</span>
                            </span>
                        </label>
                    </fieldset>
                </section>
            </div>
        </template>
    </head>
    <body>
        <header>
            <a href="./" traget="_self" rel="noreferrer noopener">
                <h1>inSets</h1>
            </a>
            <nav>
                <ul>
                    <li>
                        <a href=""
                            class="button-with-icon"
                            target="_blank"
                            rel="noreferrer noopener"
                            aria-label="how to used"
                        >
                            <svg xmlns="http://www.w3.org/2000/svg"
                                width="24" height="24"
                                viewBox="0 0 24 24"
                                fill="none"
                                stroke="currentColor"
                                stroke-width="2"
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                class="icon lucide-info"
                            >
                                <circle cx="12" cy="12" r="10"/>
                                <path d="M12 16v-4"/>
                                <path d="M12 8h.01"/>
                            </svg>
                            <span>how to</span>
                        </a>
                    </li>
                    <li>
                        <a href="https://github.com/AxelArielSaravia/"
                            class="button-with-icon"
                            target="_blank"
                            rel="noreferrer noopener"
                            aria-label="github repository"
                        >
                            <svg xmlns="http://www.w3.org/2000/svg"
                                width="24" height="24"
                                viewBox="0 0 24 24"
                                fill="none"
                                stroke="currentColor"
                                stroke-width="2"
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                class="icon lucide-github"
                            >
                                <path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"/>
                                <path d="M9 18c-4.51 2-5-2-7-2"/>
                            </svg>
                            <span>github</span>
                        </a>
                    </li>
                    <li>
                        <button type="button"
                            class="theme-switcher button-with-icon"
                            id="theme-switcher"
                            aria-label="theme switcher"
                        >
                            <p class="sr-only">Theme switcher</p>
                            <svg xmlns="http://www.w3.org/2000/svg"
                                class="icon lucide-sun"
                                width="24" height="24"
                                viewBox="0 0 24 24"
                                fill="none"
                                stroke="currentColor"
                                stroke-width="2"
                                stroke-linecap="round"
                                stroke-linejoin="round"
                            >
                                <circle cx="12" cy="12" r="4"/>
                                <path d="M12 2v2"/>
                                <path d="M12 20v2"/>
                                <path d="m4.93 4.93 1.41 1.41"/>
                                <path d="m17.66 17.66 1.41 1.41"/>
                                <path d="M2 12h2"/>
                                <path d="M20 12h2"/>
                                <path d="m6.34 17.66-1.41 1.41"/>
                                <path d="m19.07 4.93-1.41 1.41"/>
                            </svg>
                            <span class="lucide-sun">light</span>
                            <svg xmlns="http://www.w3.org/2000/svg"
                                class="icon lucide-moon"
                                width="24" height="24"
                                viewBox="0 0 24 24"
                                fill="none"
                                stroke="currentColor"

                                stroke-width="2"
                                stroke-linecap="round"
                                stroke-linejoin="round"
                            ><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"/></svg>
                            <span class="lucide-moon">dark</span>
                        </button>
                    </li>
                </ul>
            </nav>
            <script>(function() {
    "use strict"
    const T_DARK = "dark";
    const T_LIGHT = "light";
    let theme = T_LIGHT;
    let storage = localStorage.getItem("theme");
    if (storage !== T_DARK && storage !== T_LIGHT) {
        if (window.matchMedia
            && window.matchMedia("(prefers-color-scheme: dark)").matches
        ) {
            theme = T_DARK;
        }
        localStorage.setItem("theme", theme);
    } else {
        theme = storage;
    }

    document.firstElementChild.className = theme;
    const ThemeSwitcher = document.getElementById("theme-switcher")
    ThemeSwitcher.addEventListener("click", function () {
        if (theme === T_DARK) {
            theme = T_LIGHT;
        } else {
            theme = T_DARK;
        }
        document.firstElementChild.className = theme;
        localStorage.setItem("theme", theme);
    });
}());
</script>
        </header>
        <main id="main" data-app="0">
            <section class="presentation">
                <h2>inSets Music App</h2>
                <p>This project was created by</p>
                <p>Axel Ariel Saravia</p>
                <noscript>
                    <p>This page requires Javascript</p>
                    <p>Enable Javascript or use any other browser</p>
                </noscript>
                <p id="presentation-loading">Loading...</p>
                <button id="presentation-open" data-css-hidden>
                    Open
                </button>
                <div id="presentation-error" data-css-hidden>
                    <h2>ERROR: Sorry we have a problem</h2>
                    <p>Your browser does NOT have AudioContext support!!!</p>
                    <p>and because of that, we CAN NOT run the app </p>
                    <p>Please, use any other actualized browser</p>
                </div>
            </section>
            <div class="app" id="app">
                <menu class="menu" id ="app-menu">
                    <li>
                        <button class="b-start button-with-icon"
                            name="start"
                            data-start="0"
                            type="button"
                            autofocus
                        >
                            <svg xmlns="http://www.w3.org/2000/svg"
                                width="24" height="24"
                                viewBox="0 0 24 24"
                                fill="none"
                                stroke-width="2"
                                stroke="currentColor"
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                class="start icon lucide-power"
                            >
                                <path d="M12 2v10"/>
                                <path d="M18.4 6.6a9 9 0 1 1-12.77.04"/>
                            </svg>
                            <span class="start">Start</span>
                            <svg xmlns="http://www.w3.org/2000/svg"
                                width="24" height="24"
                                viewBox="0 0 24 24"
                                fill="none"
                                stroke="currentColor"
                                stroke-width="2"
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                class="end icon lucide-power-off"
                            >
                                <path d="M18.36 6.64A9 9 0 0 1 20.77 15"/>
                                <path d="M6.16 6.16a9 9 0 1 0 12.68 12.68"/>
                                <path d="M12 2v4"/>
                                <path d="m2 2 20 20"/>
                            </svg>
                            <span class="end">End</span>
                        </button>
                    </li>
                    <li>
                        <label class="b-file">
                            <input type="file"
                                class="hidde-interactive"
                                name="file"
                                accept="audio/*"
                                multiple
                            >
                            <span class="button button-with-icon">
                                <svg xmlns="http://www.w3.org/2000/svg"
                                    width="24" height="24"
                                    viewBox="0 0 24 24"
                                    fill="none"
                                    stroke="currentColor"
                                    stroke-width="2"
                                    stroke-linecap="round"
                                    stroke-linejoin="round"
                                    class="icon lucide-file-audio"
                                >
                                    <path d="M17.5 22h.5a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3"/>
                                    <path d="M14 2v4a2 2 0 0 0 2 2h4"/>
                                    <path d="M2 19a2 2 0 1 1 4 0v1a2 2 0 1 1-4 0v-4a6 6 0 0 1 12 0v4a2 2 0 1 1-4 0v-1a2 2 0 1 1 4 0"/>
                                </svg>
                                <span>Add</span>
                            </span>
                        </label>
                    </li>
                    <li>
                        <button
                            class="b-clear button-with-icon"
                            name="clear"
                            type="button"
                        >
                            <svg xmlns="http://www.w3.org/2000/svg"
                                width="24" height="24"
                                viewBox="0 0 24 24"
                                fill="none"
                                stroke="currentColor"
                                stroke-width="2"
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                class="icon lucide-trash-2"
                            >
                                <path d="M3 6h18"/>
                                <path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"/>
                                <path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"/>
                                <line x1="10" x2="10" y1="11" y2="17"/>
                                <line x1="14" x2="14" y1="11" y2="17"/>
                            </svg>
                            <span>clear</span>
                        </button>
                    </li>
                    <li class="b-config">
                        <label class="checkbox">
                            <input type="checkbox"
                                id="b-config"
                                name="config"
                                class="hidde-interactive"
                            >
                            <span class="button">
                                <svg xmlns="http://www.w3.org/2000/svg"
                                    width="24" height="24"
                                    viewBox="0 0 24 24"
                                    fill="currentColor"
                                    stroke="currentColor"
                                    stroke-width="2"
                                    stroke-linecap="round"
                                    stroke-linejoin="round"
                                    class="icon lucide-settings-2"
                                >
                                    <path d="M20 7h-9"/>
                                    <path d="M14 17H5"/>
                                    <circle cx="17" cy="17" r="3"/>
                                    <circle cx="7" cy="7" r="3"/>
                                </svg>
                                <span>config</span>
                            </span>
                        </label>
                    </li>
                </menu>
                <div id="app-container" class="container"></div>
                <section id="app-config"
                    class="configuration"
                    data-show="0"
                >
                    <h2>Configuration</h2>
                    <menu>
                        <li>
                            <button name="import">
                                import
                            </button>
                        </li>
                        <li>
                            <button name="export">
                                export
                            </button>
                        </li>
                    </menu>
                    <details class="sets"
                        title="Here are the probability values of audios sets sizes for the executions. The maximum size of a set that can be executed is 15"
                    >
                        <summary>
                            <span>sets</span>
                            <svg xmlns="http://www.w3.org/2000/svg"
                                width="24" height="24"
                                viewBox="0 0 24 24"
                                fill="currentColor"
                                stroke="currentColor"
                                stroke-width="2"
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                class="icon lucide-triangle"
                            >
                                <path d="M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/>
                            </svg>
                        </summary>
                        <div class="general-buttons">
                             <label class="max-elements">
                                <span>Max elemets</span>
                                <select name="set-max" id="c-set-max" size="">
                                    <option value="1">1</option>
                                    <option value="2">2</option>
                                    <option value="3">3</option>
                                    <option value="4">4</option>
                                    <option value="5">5</option>
                                    <option value="6">6</option>
                                    <option value="7">7</option>
                                    <option value="8">8</option>
                                    <option value="9">9</option>
                                    <option value="10">10</option>
                                    <option value="11">11</option>
                                    <option value="12">12</option>
                                    <option value="13">13</option>
                                    <option value="14">14</option>
                                    <option value="15"selected>15</option>
                                </select>
                             </label>
                            <button name="set-reset">reset</button>
                        </div>
                        <table class="content">
                            <thead>
                                <tr>
                                    <th>Elements</th>
                                    <th>Value</th>
                                    <th>Probability</th>
                                </tr>
                            </thead>
                            <tbody id="c-sets">
                                <tr name="set-0">
                                    <th class="elements">0</th>
                                    <th class="value">
                                        <button class="left" name="set-left">
                                            <svg xmlns="http://www.w3.org/2000/svg"
                                                width="24" height="24"
                                                viewBox="0 0 24 24"
                                                fill="currentColor"
                                                stroke="currentColor"
                                                stroke-width="2"
                                                stroke-linecap="round"
                                                stroke-linejoin="round"
                                                class="icon lucide-triangle"
                                            >
                                                <path d="M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/>
                                            </svg>
                                        </button>
                                        <p name="value">1</p>
                                        <button class="right" name="set-right">
                                            <svg xmlns="http://www.w3.org/2000/svg"
                                                width="24" height="24"
                                                viewBox="0 0 24 24"
                                                fill="currentColor"
                                                stroke="currentColor"
                                                stroke-width="2"
                                                stroke-linecap="round"
                                                stroke-linejoin="round"
                                                class="icon lucide-triangle"
                                            >
                                                <path d="M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/>
                                            </svg>
                                        </button>
                                    </th>
                                    <th class="probability">
                                       <span name="value">100.0</span>
                                       <span>%</span>
                                    </th>
                                </tr>
                                <tr name="set-1" data-display="0">
                                    <th class="elements">1</th>
                                    <th class="value">
                                        <button class="left" name="set-left">
                                            <svg xmlns="http://www.w3.org/2000/svg"
                                                width="24" height="24"
                                                viewBox="0 0 24 24"
                                                fill="currentColor"
                                                stroke="currentColor"
                                                stroke-width="2"
                                                stroke-linecap="round"
                                                stroke-linejoin="round"
                                                class="icon lucide-triangle"
                                            >
                                                <path d="M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/>
                                            </svg>
                                        </button>
                                        <p name="value">1</p>
                                        <button class="right" name="set-right">
                                            <svg xmlns="http://www.w3.org/2000/svg"
                                                width="24" height="24"
                                                viewBox="0 0 24 24"
                                                fill="currentColor"
                                                stroke="currentColor"
                                                stroke-width="2"
                                                stroke-linecap="round"
                                                stroke-linejoin="round"
                                                class="icon lucide-triangle"
                                            >
                                                <path d="M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/>
                                            </svg>
                                        </button>
                                    </th>
                                    <th class="probability">
                                       <span name="value">100</span>
                                       <span>%</span>
                                    </th>
                                </tr>
                                <tr name="set-2" data-display="0">
                                    <th class="elements">2</th>
                                    <th class="value">
                                        <button class="left" name="set-left">
                                            <svg xmlns="http://www.w3.org/2000/svg"
                                                width="24" height="24"
                                                viewBox="0 0 24 24"
                                                fill="currentColor"
                                                stroke="currentColor"
                                                stroke-width="2"
                                                stroke-linecap="round"
                                                stroke-linejoin="round"
                                                class="icon lucide-triangle"
                                            >
                                                <path d="M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/>
                                            </svg>
                                        </button>
                                        <p name="value">1</p>
                                        <button class="right" name="set-right">
                                            <svg xmlns="http://www.w3.org/2000/svg"
                                                width="24" height="24"
                                                viewBox="0 0 24 24"
                                                fill="currentColor"
                                                stroke="currentColor"
                                                stroke-width="2"
                                                stroke-linecap="round"
                                                stroke-linejoin="round"
                                                class="icon lucide-triangle"
                                            >
                                                <path d="M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/>
                                            </svg>
                                        </button>
                                    </th>
                                    <th class="probability">
                                       <span name="value">100</span>
                                       <span>%</span>
                                    </th>
                                </tr>
                                <tr name="set-3" data-display="0">
                                    <th class="elements">3</th>
                                    <th class="value">
                                        <button class="left" name="set-left">
                                            <svg xmlns="http://www.w3.org/2000/svg"
                                                width="24" height="24"
                                                viewBox="0 0 24 24"
                                                fill="currentColor"
                                                stroke="currentColor"
                                                stroke-width="2"
                                                stroke-linecap="round"
                                                stroke-linejoin="round"
                                                class="icon lucide-triangle"
                                            >
                                                <path d="M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/>
                                            </svg>
                                        </button>
                                        <p name="value">1</p>
                                        <button class="right" name="set-right">
                                            <svg xmlns="http://www.w3.org/2000/svg"
                                                width="24" height="24"
                                                viewBox="0 0 24 24"
                                                fill="currentColor"
                                                stroke="currentColor"
                                                stroke-width="2"
                                                stroke-linecap="round"
                                                stroke-linejoin="round"
                                                class="icon lucide-triangle"
                                            >
                                                <path d="M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/>
                                            </svg>
                                        </button>
                                    </th>
                                    <th class="probability">
                                       <span name="value">100</span>
                                       <span>%</span>
                                    </th>
                                </tr>
                                <tr name="set-4" data-display="0">
                                    <th class="elements">4</th>
                                    <th class="value">
                                        <button class="left" name="set-left">
                                            <svg xmlns="http://www.w3.org/2000/svg"
                                                width="24" height="24"
                                                viewBox="0 0 24 24"
                                                fill="currentColor"
                                                stroke="currentColor"
                                                stroke-width="2"
                                                stroke-linecap="round"
                                                stroke-linejoin="round"
                                                class="icon lucide-triangle"
                                            >
                                                <path d="M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/>
                                            </svg>
                                        </button>
                                        <p name="value">1</p>
                                        <button class="right" name="set-right">
                                            <svg xmlns="http://www.w3.org/2000/svg"
                                                width="24" height="24"
                                                viewBox="0 0 24 24"
                                                fill="currentColor"
                                                stroke="currentColor"
                                                stroke-width="2"
                                                stroke-linecap="round"
                                                stroke-linejoin="round"
                                                class="icon lucide-triangle"
                                            >
                                                <path d="M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/>
                                            </svg>
                                        </button>
                                    </th>
                                    <th class="probability">
                                       <span name="value">100</span>
                                       <span>%</span>
                                    </th>
                                </tr>
                                <tr name="set-5" data-display="0">
                                    <th class="elements">5</th>
                                    <th class="value">
                                        <button class="left" name="set-left">
                                            <svg xmlns="http://www.w3.org/2000/svg"
                                                width="24" height="24"
                                                viewBox="0 0 24 24"
                                                fill="currentColor"
                                                stroke="currentColor"
                                                stroke-width="2"
                                                stroke-linecap="round"
                                                stroke-linejoin="round"
                                                class="icon lucide-triangle"
                                            >
                                                <path d="M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/>
                                            </svg>
                                        </button>
                                        <p name="value">1</p>
                                        <button class="right" name="set-right">
                                            <svg xmlns="http://www.w3.org/2000/svg"
                                                width="24" height="24"
                                                viewBox="0 0 24 24"
                                                fill="currentColor"
                                                stroke="currentColor"
                                                stroke-width="2"
                                                stroke-linecap="round"
                                                stroke-linejoin="round"
                                                class="icon lucide-triangle"
                                            >
                                                <path d="M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/>
                                            </svg>
                                        </button>
                                    </th>
                                    <th class="probability">
                                       <span name="value">100</span>
                                       <span>%</span>
                                    </th>
                                </tr>
                                <tr name="set-6" data-display="0">
                                    <th class="elements">6</th>
                                    <th class="value">
                                        <button class="left" name="set-left">
                                            <svg xmlns="http://www.w3.org/2000/svg"
                                                width="24" height="24"
                                                viewBox="0 0 24 24"
                                                fill="currentColor"
                                                stroke="currentColor"
                                                stroke-width="2"
                                                stroke-linecap="round"
                                                stroke-linejoin="round"
                                                class="icon lucide-triangle"
                                            >
                                                <path d="M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/>
                                            </svg>
                                        </button>
                                        <p name="value">1</p>
                                        <button class="right" name="set-right">
                                            <svg xmlns="http://www.w3.org/2000/svg"
                                                width="24" height="24"
                                                viewBox="0 0 24 24"
                                                fill="currentColor"
                                                stroke="currentColor"
                                                stroke-width="2"
                                                stroke-linecap="round"
                                                stroke-linejoin="round"
                                                class="icon lucide-triangle"
                                            >
                                                <path d="M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/>
                                            </svg>
                                        </button>
                                    </th>
                                    <th class="probability">
                                       <span name="value">100</span>
                                       <span>%</span>
                                    </th>
                                </tr>
                                <tr name="set-7" data-display="0">
                                    <th class="elements">7</th>
                                    <th class="value">
                                        <button class="left" name="set-left">
                                            <svg xmlns="http://www.w3.org/2000/svg"
                                                width="24" height="24"
                                                viewBox="0 0 24 24"
                                                fill="currentColor"
                                                stroke="currentColor"
                                                stroke-width="2"
                                                stroke-linecap="round"
                                                stroke-linejoin="round"
                                                class="icon lucide-triangle"
                                            >
                                                <path d="M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/>
                                            </svg>
                                        </button>
                                        <p name="value">1</p>
                                        <button class="right" name="set-right">
                                            <svg xmlns="http://www.w3.org/2000/svg"
                                                width="24" height="24"
                                                viewBox="0 0 24 24"
                                                fill="currentColor"
                                                stroke="currentColor"
                                                stroke-width="2"
                                                stroke-linecap="round"
                                                stroke-linejoin="round"
                                                class="icon lucide-triangle"
                                            >
                                                <path d="M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/>
                                            </svg>
                                        </button>
                                    </th>
                                    <th class="probability">
                                       <span name="value">100</span>
                                       <span>%</span>
                                    </th>
                                </tr>
                                <tr name="set-8" data-display="0">
                                    <th class="elements">8</th>
                                    <th class="value">
                                        <button class="left" name="set-left">
                                            <svg xmlns="http://www.w3.org/2000/svg"
                                                width="24" height="24"
                                                viewBox="0 0 24 24"
                                                fill="currentColor"
                                                stroke="currentColor"
                                                stroke-width="2"
                                                stroke-linecap="round"
                                                stroke-linejoin="round"
                                                class="icon lucide-triangle"
                                            >
                                                <path d="M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/>
                                            </svg>
                                        </button>
                                        <p name="value">1</p>
                                        <button class="right" name="set-right">
                                            <svg xmlns="http://www.w3.org/2000/svg"
                                                width="24" height="24"
                                                viewBox="0 0 24 24"
                                                fill="currentColor"
                                                stroke="currentColor"
                                                stroke-width="2"
                                                stroke-linecap="round"
                                                stroke-linejoin="round"
                                                class="icon lucide-triangle"
                                            >
                                                <path d="M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/>
                                            </svg>
                                        </button>
                                    </th>
                                    <th class="probability">
                                       <span name="value">100</span>
                                       <span>%</span>
                                    </th>
                                </tr>
                                <tr name="set-9" data-display="0">
                                    <th class="elements">9</th>
                                    <th class="value">
                                        <button class="left" name="set-left">
                                            <svg xmlns="http://www.w3.org/2000/svg"
                                                width="24" height="24"
                                                viewBox="0 0 24 24"
                                                fill="currentColor"
                                                stroke="currentColor"
                                                stroke-width="2"
                                                stroke-linecap="round"
                                                stroke-linejoin="round"
                                                class="icon lucide-triangle"
                                            >
                                                <path d="M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/>
                                            </svg>
                                        </button>
                                        <p name="value">1</p>
                                        <button class="right" name="set-right">
                                            <svg xmlns="http://www.w3.org/2000/svg"
                                                width="24" height="24"
                                                viewBox="0 0 24 24"
                                                fill="currentColor"
                                                stroke="currentColor"
                                                stroke-width="2"
                                                stroke-linecap="round"
                                                stroke-linejoin="round"
                                                class="icon lucide-triangle"
                                            >
                                                <path d="M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/>
                                            </svg>
                                        </button>
                                    </th>
                                    <th class="probability">
                                       <span name="value">100</span>
                                       <span>%</span>
                                    </th>
                                </tr>
                                <tr name="set-10" data-display="0">
                                    <th class="elements">10</th>
                                    <th class="value">
                                        <button class="left" name="set-left">
                                            <svg xmlns="http://www.w3.org/2000/svg"
                                                width="24" height="24"
                                                viewBox="0 0 24 24"
                                                fill="currentColor"
                                                stroke="currentColor"
                                                stroke-width="2"
                                                stroke-linecap="round"
                                                stroke-linejoin="round"
                                                class="icon lucide-triangle"
                                            >
                                                <path d="M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/>
                                            </svg>
                                        </button>
                                        <p name="value">1</p>
                                        <button class="right" name="set-right">
                                            <svg xmlns="http://www.w3.org/2000/svg"
                                                width="24" height="24"
                                                viewBox="0 0 24 24"
                                                fill="currentColor"
                                                stroke="currentColor"
                                                stroke-width="2"
                                                stroke-linecap="round"
                                                stroke-linejoin="round"
                                                class="icon lucide-triangle"
                                            >
                                                <path d="M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/>
                                            </svg>
                                        </button>
                                    </th>
                                    <th class="probability">
                                       <span name="value">100</span>
                                       <span>%</span>
                                    </th>
                                </tr>
                                <tr name="set-11" data-display="0">
                                    <th class="elements">11</th>
                                    <th class="value">
                                        <button class="left" name="set-left">
                                            <svg xmlns="http://www.w3.org/2000/svg"
                                                width="24" height="24"
                                                viewBox="0 0 24 24"
                                                fill="currentColor"
                                                stroke="currentColor"
                                                stroke-width="2"
                                                stroke-linecap="round"
                                                stroke-linejoin="round"
                                                class="icon lucide-triangle"
                                            >
                                                <path d="M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/>
                                            </svg>
                                        </button>
                                        <p name="value">1</p>
                                        <button class="right" name="set-right">
                                            <svg xmlns="http://www.w3.org/2000/svg"
                                                width="24" height="24"
                                                viewBox="0 0 24 24"
                                                fill="currentColor"
                                                stroke="currentColor"
                                                stroke-width="2"
                                                stroke-linecap="round"
                                                stroke-linejoin="round"
                                                class="icon lucide-triangle"
                                            >
                                                <path d="M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/>
                                            </svg>
                                        </button>
                                    </th>
                                    <th class="probability">
                                       <span name="value">100</span>
                                       <span>%</span>
                                    </th>
                                </tr>
                                <tr name="set-12" data-display="0">
                                    <th class="elements">12</th>
                                    <th class="value">
                                        <button class="left" name="set-left">
                                            <svg xmlns="http://www.w3.org/2000/svg"
                                                width="24" height="24"
                                                viewBox="0 0 24 24"
                                                fill="currentColor"
                                                stroke="currentColor"
                                                stroke-width="2"
                                                stroke-linecap="round"
                                                stroke-linejoin="round"
                                                class="icon lucide-triangle"
                                            >
                                                <path d="M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/>
                                            </svg>
                                        </button>
                                        <p name="value">1</p>
                                        <button class="right" name="set-right">
                                            <svg xmlns="http://www.w3.org/2000/svg"
                                                width="24" height="24"
                                                viewBox="0 0 24 24"
                                                fill="currentColor"
                                                stroke="currentColor"
                                                stroke-width="2"
                                                stroke-linecap="round"
                                                stroke-linejoin="round"
                                                class="icon lucide-triangle"
                                            >
                                                <path d="M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/>
                                            </svg>
                                        </button>
                                    </th>
                                    <th class="probability">
                                       <span name="value">100</span>
                                       <span>%</span>
                                    </th>
                                </tr>
                                <tr name="set-13" data-display="0">
                                    <th class="elements">13</th>
                                    <th class="value">
                                        <button class="left" name="set-left">
                                            <svg xmlns="http://www.w3.org/2000/svg"
                                                width="24" height="24"
                                                viewBox="0 0 24 24"
                                                fill="currentColor"
                                                stroke="currentColor"
                                                stroke-width="2"
                                                stroke-linecap="round"
                                                stroke-linejoin="round"
                                                class="icon lucide-triangle"
                                            >
                                                <path d="M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/>
                                            </svg>
                                        </button>
                                        <p name="value">1</p>
                                        <button class="right" name="set-right">
                                            <svg xmlns="http://www.w3.org/2000/svg"
                                                width="24" height="24"
                                                viewBox="0 0 24 24"
                                                fill="currentColor"
                                                stroke="currentColor"
                                                stroke-width="2"
                                                stroke-linecap="round"
                                                stroke-linejoin="round"
                                                class="icon lucide-triangle"
                                            >
                                                <path d="M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/>
                                            </svg>
                                        </button>
                                    </th>
                                    <th class="probability">
                                       <span name="value">100</span>
                                       <span>%</span>
                                    </th>
                                </tr>
                                <tr name="set-14" data-display="0">
                                    <th class="elements">14</th>
                                    <th class="value">
                                        <button class="left" name="set-left">
                                            <svg xmlns="http://www.w3.org/2000/svg"
                                                width="24" height="24"
                                                viewBox="0 0 24 24"
                                                fill="currentColor"
                                                stroke="currentColor"
                                                stroke-width="2"
                                                stroke-linecap="round"
                                                stroke-linejoin="round"
                                                class="icon lucide-triangle"
                                            >
                                                <path d="M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/>
                                            </svg>
                                        </button>
                                        <p name="value">1</p>
                                        <button class="right" name="set-right">
                                            <svg xmlns="http://www.w3.org/2000/svg"
                                                width="24" height="24"
                                                viewBox="0 0 24 24"
                                                fill="currentColor"
                                                stroke="currentColor"
                                                stroke-width="2"
                                                stroke-linecap="round"
                                                stroke-linejoin="round"
                                                class="icon lucide-triangle"
                                            >
                                                <path d="M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/>
                                            </svg>
                                        </button>
                                    </th>
                                    <th class="probability">
                                       <span name="value">100</span>
                                       <span>%</span>
                                    </th>
                                </tr>
                                <tr name="set-15" data-display="0">
                                    <th class="elements">15</th>
                                    <th class="value">
                                        <button class="left" name="set-left">
                                            <svg xmlns="http://www.w3.org/2000/svg"
                                                width="24" height="24"
                                                viewBox="0 0 24 24"
                                                fill="currentColor"
                                                stroke="currentColor"
                                                stroke-width="2"
                                                stroke-linecap="round"
                                                stroke-linejoin="round"
                                                class="icon lucide-triangle"
                                            >
                                                <path d="M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/>
                                            </svg>
                                        </button>
                                        <p name="value">1</p>
                                        <button class="right" name="set-right">
                                            <svg xmlns="http://www.w3.org/2000/svg"
                                                width="24" height="24"
                                                viewBox="0 0 24 24"
                                                fill="currentColor"
                                                stroke="currentColor"
                                                stroke-width="2"
                                                stroke-linecap="round"
                                                stroke-linejoin="round"
                                                class="icon lucide-triangle"
                                            >
                                                <path d="M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/>
                                            </svg>
                                        </button>
                                    </th>
                                    <th class="probability">
                                       <span name="value">100</span>
                                       <span>%</span>
                                    </th>
                                </tr>
                            </tbody>
                        </table>
                    </details>
                    <details class="time"
                        title="This is an interval that represents the time to wait between executions of audios set"
                    >
                        <summary>
                            <span>time</span>
                            <svg xmlns="http://www.w3.org/2000/svg"
                                width="24" height="24"
                                viewBox="0 0 24 24"
                                fill="currentColor"
                                stroke="currentColor"
                                stroke-width="2"
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                class="icon lucide-triangle"
                            >
                                <path d="M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/>
                            </svg>
                        </summary>
                        <div class="general-button">
                            <button name="time-reset">reset</button>
                        </div>
                        <div class="content" data-changed="0">
                            <h3>mm:ss.ms</h3>
                            <article>
                                <h4>max</h4>
                                <div class="time-input"
                                    id="c-time-max"
                                >
                                    <div class="range-number" name="mm">
                                        <button class="up"
                                            name="time-max-mm-up"
                                        >
                                            <svg xmlns="http://www.w3.org/2000/svg"
                                                width="24" height="24"
                                                viewBox="0 0 24 24"
                                                fill="currentColor"
                                                stroke="currentColor"
                                                stroke-width="2"
                                                stroke-linecap="round"
                                                stroke-linejoin="round"
                                                class="icon lucide-triangle"
                                            >
                                                <path d="M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/>
                                            </svg>
                                        </button>
                                        <p name="value">00</p>
                                        <button class="down"
                                            name="time-max-mm-down"
                                        >
                                            <svg xmlns="http://www.w3.org/2000/svg"
                                                width="24" height="24"
                                                viewBox="0 0 24 24"
                                                fill="currentColor"
                                                stroke="currentColor"
                                                stroke-width="2"
                                                stroke-linecap="round"
                                                stroke-linejoin="round"
                                                class="icon lucide-triangle"
                                            >
                                                <path d="M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/>
                                            </svg>
                                        </button>
                                    </div>
                                    <p>:</p>
                                    <div class="range-number" name="ss">
                                        <button class="up"
                                            name="time-max-ss-up"
                                        >
                                            <svg xmlns="http://www.w3.org/2000/svg"
                                                width="24" height="24"
                                                viewBox="0 0 24 24"
                                                fill="currentColor"
                                                stroke="currentColor"
                                                stroke-width="2"
                                                stroke-linecap="round"
                                                stroke-linejoin="round"
                                                class="icon lucide-triangle"
                                            >
                                                <path d="M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/>
                                            </svg>
                                        </button>
                                        <p name="value">05</p>
                                        <button class="down"
                                            name="time-max-ss-down"
                                        >
                                            <svg xmlns="http://www.w3.org/2000/svg"
                                                width="24" height="24"
                                                viewBox="0 0 24 24"
                                                fill="currentColor"
                                                stroke="currentColor"
                                                stroke-width="2"
                                                stroke-linecap="round"
                                                stroke-linejoin="round"
                                                class="icon lucide-triangle"
                                            >
                                                <path d="M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/>
                                            </svg>
                                        </button>
                                    </div>
                                    <p>.</p>
                                    <div class="range-number" name="ms">
                                        <button class="up"
                                            name="time-max-ms-up"
                                        >
                                            <svg xmlns="http://www.w3.org/2000/svg"
                                                width="24" height="24"
                                                viewBox="0 0 24 24"
                                                fill="currentColor"
                                                stroke="currentColor"
                                                stroke-width="2"
                                                stroke-linecap="round"
                                                stroke-linejoin="round"
                                                class="icon lucide-triangle"
                                            >
                                                <path d="M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/>
                                            </svg>
                                        </button>
                                        <p name="value">0</p>
                                        <button class="down"
                                            name="time-max-ms-down"
                                        >
                                            <svg xmlns="http://www.w3.org/2000/svg"
                                                width="24" height="24"
                                                viewBox="0 0 24 24"
                                                fill="currentColor"
                                                stroke="currentColor"
                                                stroke-width="2"
                                                stroke-linecap="round"
                                                stroke-linejoin="round"
                                                class="icon lucide-triangle"
                                            >
                                                <path d="M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/>
                                            </svg>
                                        </button>
                                    </div>
                                </div>
                            </article>
                            <article>
                                <h4>min</h4>
                                <div class="time-input"
                                    id="c-time-min"
                                >
                                    <div class="range-number" name="mm">
                                        <button class="up"
                                            name="time-min-mm-up"
                                        >
                                            <svg xmlns="http://www.w3.org/2000/svg"
                                                width="24" height="24"
                                                viewBox="0 0 24 24"
                                                fill="currentColor"
                                                stroke="currentColor"
                                                stroke-width="2"
                                                stroke-linecap="round"
                                                stroke-linejoin="round"
                                                class="icon lucide-triangle"
                                            >
                                                <path d="M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/>
                                            </svg>
                                        </button>
                                        <p name="value">00</p>
                                        <button class="down"
                                            name="time-min-mm-down"
                                        >
                                            <svg xmlns="http://www.w3.org/2000/svg"
                                                width="24" height="24"
                                                viewBox="0 0 24 24"
                                                fill="currentColor"
                                                stroke="currentColor"
                                                stroke-width="2"
                                                stroke-linecap="round"
                                                stroke-linejoin="round"
                                                class="icon lucide-triangle"
                                            >
                                                <path d="M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/>
                                            </svg>
                                        </button>
                                    </div>
                                    <p>:</p>
                                    <div class="range-number" name="ss">
                                        <button class="up"
                                            name="time-min-ss-up"
                                        >
                                            <svg xmlns="http://www.w3.org/2000/svg"
                                                width="24" height="24"
                                                viewBox="0 0 24 24"
                                                fill="currentColor"
                                                stroke="currentColor"
                                                stroke-width="2"
                                                stroke-linecap="round"
                                                stroke-linejoin="round"
                                                class="icon lucide-triangle"
                                            >
                                                <path d="M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/>
                                            </svg>
                                        </button>
                                        <p name="value">00</p>
                                        <button class="down"
                                            name="time-min-ss-down"
                                        >
                                            <svg xmlns="http://www.w3.org/2000/svg"
                                                width="24" height="24"
                                                viewBox="0 0 24 24"
                                                fill="currentColor"
                                                stroke="currentColor"
                                                stroke-width="2"
                                                stroke-linecap="round"
                                                stroke-linejoin="round"
                                                class="icon lucide-triangle"
                                            >
                                                <path d="M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/>
                                            </svg>
                                        </button>
                                    </div>
                                    <p>.</p>
                                    <div class="range-number" name="ms">
                                        <button class="up"
                                            name="time-min-ms-up"
                                        >
                                            <svg xmlns="http://www.w3.org/2000/svg"
                                                width="24" height="24"
                                                viewBox="0 0 24 24"
                                                fill="currentColor"
                                                stroke="currentColor"
                                                stroke-width="2"
                                                stroke-linecap="round"
                                                stroke-linejoin="round"
                                                class="icon lucide-triangle"
                                            >
                                                <path d="M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/>
                                            </svg>
                                        </button>
                                        <p name="value">8</p>
                                        <button class="down"
                                            name="time-min-ms-down"
                                        >
                                            <svg xmlns="http://www.w3.org/2000/svg"
                                                width="24" height="24"
                                                viewBox="0 0 24 24"
                                                fill="currentColor"
                                                stroke="currentColor"
                                                stroke-width="2"
                                                stroke-linecap="round"
                                                stroke-linejoin="round"
                                                class="icon lucide-triangle"
                                            >
                                                <path d="M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/>
                                            </svg>
                                        </button>
                                    </div>
                                </div>
                            </article>
                            <menu>
                                <button name="time-cancel">
                                    cancel
                                </button>
                                <button name="time-apply">
                                    apply
                                </button>
                            </menu>
                        </div>
                    </details>
                    <details class="fades"
                        title="Change the fadeIn and fadeOut values for all audios"
                    >
                        <summary>
                            <span>fades</span>
                            <svg xmlns="http://www.w3.org/2000/svg"
                                width="24" height="24"
                                viewBox="0 0 24 24"
                                fill="currentColor"
                                stroke="currentColor"
                                stroke-width="2"
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                class="icon lucide-triangle"
                            >
                                <path d="M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/>
                            </svg>
                        </summary>
                        <div class="general-button">
                            <button name="fades-reset">reset</button>
                        </div>
                        <article>
                            <h4>fadein</h4>
                            <div id="c-fadein" class="range">
                                <input name="fadein"
                                    type="range"
                                    min="0"
                                    max="8"
                                    value="2"
                                    step="1"
                                >
                                <span class="text">
                                    <span name="value">100</span>
                                    <span>ms</span>
                                </span>
                            </div>
                        </article>
                        <article>
                            <h4>fadeout</h4>
                            <div id="c-fadeout" class="range">
                                <input name="fadeout"
                                    type="range"
                                    min="0"
                                    max="8"
                                    value="5"
                                    step="1"
                                >
                                <span class="text">
                                    <span name="value">160</span>
                                    <span>ms</span>
                                </span>
                            </div>
                        </article>
                    </details>
                    <details class="delay"
                        title="Change the delay configurations"
                    >
                        <summary>
                            <span>delay</span>
                            <svg xmlns="http://www.w3.org/2000/svg"
                                width="24" height="24"
                                viewBox="0 0 24 24"
                                fill="currentColor"
                                stroke="currentColor"
                                stroke-width="2"
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                class="icon lucide-triangle"
                            >
                                <path d="M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/>
                            </svg>
                        </summary>
                        <div class="general-buttons">
                            <label class="checkbox">
                                <input type="checkbox"
                                    id="c-delay-da"
                                    name="delay-da"
                                    class="hidde-interactive"
                                >
                                <span class="button">
                                    <svg xmlns="http://www.w3.org/2000/svg"
                                        width="24" height="24"
                                        viewBox="0 0 24 24"
                                        fill="currentColor"
                                        stroke="currentColor"
                                        stroke-width="2"
                                        stroke-linecap="round"
                                        stroke-linejoin="round"
                                        class="icon-checkbox lucide-square"
                                    >
                                        <rect width="18" height="18" x="3" y="3" rx="2"/>
                                    </svg>
                                    <span>disable for all</span>
                                </span>
                            </label>
                            <button name="delay-reset">reset</button>
                        </div>
                        <article>
                            <h4>time interval</h4>
                            <div id="c-delay-timemin" class="range">
                                <input name="delay-timemin"
                                    type="range"
                                    min="0"
                                    max="49"
                                    value="3"
                                    step="1"
                                >
                                <span class="text">
                                    <span>min</span>
                                    <span name="value">0.4</span>
                                    <span>sec</span>
                                </span>
                            </div>
                            <div id="c-delay-timemax" class="range">
                                <input name="delay-timemax"
                                    class="reverse"
                                    dir="rtl"
                                    type="range"
                                    min="0"
                                    max="49"
                                    value="10"
                                    step="1"
                                >
                                <span class="text">
                                    <span>max</span>
                                    <span name="value">4.0</span>
                                    <span>sec</span>
                                </span>
                            </div>
                        </article>
                        <article>
                            <h4>feedback interval</h4>
                            <div id="c-delay-feedbackmin" class="range">
                                <input name="delay-feedbackmin"
                                    type="range"
                                    min="0"
                                    max="17"
                                    value="4"
                                    step="1"
                                >
                                <span class="text">
                                    <span>min</span>
                                    <span name="value">25</span>
                                    <span>%</span>
                                </span>
                            </div>
                            <div id="c-delay-feedbackmax" class="range">
                                <input name="delay-feedbackmax"
                                    class="reverse"
                                    dir="rtl"
                                    type="range"
                                    min="0"
                                    max="17"
                                    value="1"
                                    step="1"
                                >
                                <span class="text">
                                    <span>max</span>
                                    <span name="value">85</span>
                                    <span>%</span>
                                </span>
                            </div>
                        </article>
                    </details>
                    <details class="filter"
                        title="Change the general parameters of different filters"
                    >
                        <summary>
                            <span>filter</span>
                            <svg xmlns="http://www.w3.org/2000/svg"
                                width="24" height="24"
                                viewBox="0 0 24 24"
                                fill="currentColor"
                                stroke="currentColor"
                                stroke-width="2"
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                class="icon lucide-triangle"
                            >
                                <path d="M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/>
                            </svg>
                        </summary>
                        <div class="general-buttons">
                            <label class="checkbox">
                                <input name="filter-da"
                                    type="checkbox"
                                    id="c-filter-da"
                                    class="hidde-interactive"
                                >
                                <span class="button">
                                    <svg xmlns="http://www.w3.org/2000/svg"
                                        width="24" height="24"
                                        viewBox="0 0 24 24"
                                        fill="currentColor"
                                        stroke="currentColor"
                                        stroke-width="2"
                                        stroke-linecap="round"
                                        stroke-linejoin="round"
                                        class="icon-checkbox lucide-square"
                                    >
                                        <rect width="18" height="18" x="3" y="3" rx="2"/>
                                    </svg>
                                    <span>disable for all</span>
                                </span>
                            </label>
                            <button name="filter-reset">reset</button>
                        </div>
                        <article>
                            <h4>frequency interval</h4>
                            <div id="c-filter-freqmin" class="range">
                                <input name="filter-freqmin"
                                    type="range"
                                    min="0"
                                    max="248"
                                    value="40"
                                    step="1"
                                >
                                <span class="text">
                                    <span>min</span>
                                    <span name="value">80</span>
                                    <span>hz</span>
                                </span>
                            </div>
                            <div id="c-filter-freqmax" class="range">
                                <input name="filter-freqmax"
                                    class="reverse"
                                    dir="rtl"
                                    type="range"
                                    min="0"
                                    max="248"
                                    value="8"
                                    step="1"
                                >
                                <span class="text">
                                    <span>max</span>
                                    <span name="value">10000</span>
                                    <span>hz</span>
                                </span>
                            </div>
                        </article>
                        <article>
                            <h4>q factor interval</h4>
                            <div id="c-filter-qmin" class="range">
                                <input name="filter-qmin"
                                    type="range"
                                    min="0"
                                    max="36"
                                    value="0"
                                    step="1"
                                >
                                <span class="text">
                                    <span>min</span>
                                    <span name="value">0.1</span>
                                </span>
                            </div>
                            <div id="c-filter-qmax" class="range">
                                <input name="filter-qmax"
                                    class="reverse"
                                    dir="rtl"
                                    type="range"
                                    min="0"
                                    max="36"
                                    value="0"
                                    step="1"
                                >
                                <span class="text">
                                    <span>max</span>
                                    <span name="value">10</span>
                                </span>
                            </div>
                        </article>
                        <article>
                            <h4>filter effects selected</h4>
                            <fieldset class="checkboxes" id="c-filter-effects">
                                <label class="checkbox">
                                    <input type="checkbox"
                                        name="filter-highpass"
                                        class="hidde-interactive"
                                        checked
                                    >
                                    <span class="button">
                                        <svg xmlns="http://www.w3.org/2000/svg"
                                            width="24" height="24"
                                            viewBox="0 0 24 24"
                                            fill="currentColor"
                                            stroke="currentColor"
                                            stroke-width="2"
                                            stroke-linecap="round"
                                            stroke-linejoin="round"
                                            class="icon-checkbox lucide-square"
                                        >
                                            <rect width="18" height="18" x="3" y="3" rx="2"/>
                                        </svg>
                                        <span>highpass</span>
                                    </span>
                                </label>
                                <label class="checkbox">
                                    <input type="checkbox"
                                        name="filter-lowpass"
                                        class="hidde-interactive"
                                        checked
                                    >
                                    <span class="button">
                                        <svg xmlns="http://www.w3.org/2000/svg"
                                            width="24" height="24"
                                            viewBox="0 0 24 24"
                                            fill="currentColor"
                                            stroke="currentColor"
                                            stroke-width="2"
                                            stroke-linecap="round"
                                            stroke-linejoin="round"
                                            class="icon-checkbox lucide-square"
                                        >
                                            <rect width="18" height="18" x="3" y="3" rx="2"/>
                                        </svg>
                                        <span>lowpass</span>
                                    </span>
                                </label>
                                <label class="checkbox">
                                    <input type="checkbox"
                                        name="filter-bandpass"
                                        class="hidde-interactive"
                                        checked
                                    >
                                    <span class="button">
                                        <svg xmlns="http://www.w3.org/2000/svg"
                                            width="24" height="24"
                                            viewBox="0 0 24 24"
                                            fill="currentColor"
                                            stroke="currentColor"
                                            stroke-width="2"
                                            stroke-linecap="round"
                                            stroke-linejoin="round"
                                            class="icon-checkbox lucide-square"
                                        >
                                            <rect width="18" height="18" x="3" y="3" rx="2"/>
                                        </svg>
                                        <span>bandpass</span>
                                    </span>
                                </label>
                                <label class="checkbox">
                                    <input type="checkbox"
                                        name="filter-notch"
                                        class="hidde-interactive"
                                        checked
                                    >
                                    <span class="button">
                                        <svg xmlns="http://www.w3.org/2000/svg"
                                            width="24" height="24"
                                            viewBox="0 0 24 24"
                                            fill="currentColor"
                                            stroke="currentColor"
                                            stroke-width="2"
                                            stroke-linecap="round"
                                            stroke-linejoin="round"
                                            class="icon-checkbox lucide-square"
                                        >
                                            <rect width="18" height="18" x="3" y="3" rx="2"/>
                                        </svg>
                                        <span>notch</span>
                                    </span>
                                </label>
                            </fieldset>
                        </article>
                    </details>
                    <details class="panner"
                        title="Change the intervals that represents a position of the audio in a right-hand Cartesian coordinate system"
                    >
                        <summary>
                            <span>panner</span>
                            <svg xmlns="http://www.w3.org/2000/svg"
                                width="24" height="24"
                                viewBox="0 0 24 24"
                                fill="currentColor"
                                stroke="currentColor"
                                stroke-width="2"
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                class="icon lucide-triangle"
                            >
                                <path d="M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/>
                            </svg>
                        </summary>
                        <div class="general-buttons">
                            <label class="checkbox">
                                <input type="checkbox"
                                    id="c-panner-da"
                                    name="panner-da"
                                    class="hidde-interactive"
                                >
                                <span class="button">
                                    <svg xmlns="http://www.w3.org/2000/svg"
                                        width="24" height="24"
                                        viewBox="0 0 24 24"
                                        fill="currentColor"
                                        stroke="currentColor"
                                        stroke-width="2"
                                        stroke-linecap="round"
                                        stroke-linejoin="round"
                                        class="icon-checkbox lucide-square"
                                    >
                                        <rect width="18" height="18" x="3" y="3" rx="2"/>
                                    </svg>
                                    <span>disable for all</span>
                                </span>
                            </label>
                            <button name="panner-reset">reset</button>
                        </div>
                        <article>
                            <h4>x interval</h4>
                            <div id="c-panner-xmin" class="range">
                                <input name="panner-xmin"
                                    type="range"
                                    min="0"
                                    max="100"
                                    value="20"
                                    step="1"
                                >
                                <span class="text">
                                    <span>min</span>
                                    <span name="value">-30</span>
                                    <span>%</span>
                                </span>
                            </div>
                            <div id="c-panner-xmax" class="range">
                                <input name="panner-xmax"
                                    class="reverse"
                                    dir="rtl"
                                    type="range"
                                    min="0"
                                    max="100"
                                    value="20"
                                    step="1"
                                >
                                <span class="text">
                                    <span>max</span>
                                    <span name="value">30</span>
                                    <span>%</span>
                                </span>
                            </div>
                        </article>
                        <article>
                            <h4>y interval</h4>
                            <div id="c-panner-ymin" class="range">
                                <input name="panner-ymin"
                                    type="range"
                                    min="0"
                                    max="100"
                                    value="20"
                                    step="1"
                                >
                                <span class="text">
                                    <span>min</span>
                                    <span name="value">-30</span>
                                    <span>%</span>
                                </span>
                            </div>
                            <div id="c-panner-ymax" class="range">
                                <input name="panner-ymax"
                                    class="reverse"
                                    dir="rtl"
                                    type="range"
                                    min="0"
                                    max="100"
                                    value="20"
                                    step="1"
                                >
                                <span class="text">
                                    <span>max</span>
                                    <span name="value">30</span>
                                    <span>%</span>
                                </span>
                            </div>
                        </article>
                        <article>
                            <h4>z interval</h4>
                            <div id="c-panner-zmin" class="range">
                                <input name="panner-zmin"
                                    type="range"
                                    min="0"
                                    max="50"
                                    value="0"
                                    step="1"
                                >
                                <span class="text">
                                    <span>min</span>
                                    <span name="value">0</span>
                                    <span>%</span>
                                </span>
                            </div>
                            <div id="c-panner-zmax" class="range">
                                <input name="panner-zmax"
                                    class="reverse"
                                    dir="rtl"
                                    type="range"
                                    min="0"
                                    max="50"
                                    value="0"
                                    step="1"
                                >
                                <span class="text">
                                    <span>max</span>
                                    <span name="value">50</span>
                                    <span>%</span>
                                </span>
                            </div>
                        </article>
                    </details>
                    <details class="pbrate"
                        title="The normal playback rate is multiplied by a random value inside the interval to obtain the current playback rate"
                    >
                        <summary>
                            <span>pb rate</span>
                            <svg xmlns="http://www.w3.org/2000/svg"
                                width="24" height="24"
                                viewBox="0 0 24 24"
                                fill="currentColor"
                                stroke="currentColor"
                                stroke-width="2"
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                class="icon lucide-triangle"
                            >
                                <path d="M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/>
                            </svg>
                        </summary>
                        <div class="general-buttons">
                            <label class="checkbox">
                                <input type="checkbox"
                                    id="c-pbrate-da"
                                    name="pbrate-da"
                                    class="hidde-interactive"
                                >
                                <span class="button">
                                    <svg xmlns="http://www.w3.org/2000/svg"
                                        width="24" height="24"
                                        viewBox="0 0 24 24"
                                        fill="currentColor"
                                        stroke="currentColor"
                                        stroke-width="2"
                                        stroke-linecap="round"
                                        stroke-linejoin="round"
                                        class="icon-checkbox lucide-square"
                                    >
                                        <rect width="18" height="18" x="3" y="3" rx="2"/>
                                    </svg>
                                    <span>disable for all</span>
                                </span>
                            </label>
                            <button name="pbrate-reset">reset</button>
                        </div>
                        <article>
                            <h4>interval</h4>
                            <div id="c-pbrate-min" class="range">
                                <input name="pbrate-min"
                                    type="range"
                                    min="0"
                                    max="20"
                                    value="5"
                                    step="1"
                                >
                                <span class="text">
                                    <span>min</span>
                                    <span name="value">0.75</span>
                                </span>
                            </div>
                            <div id="c-pbrate-max" class="range">
                                <input name="pbrate-max"
                                    class="reverse"
                                    dir="rtl"
                                    type="range"
                                    min="0"
                                    max="20"
                                    value="5"
                                    step="1"
                                >
                                <span class="text">
                                    <span>max</span>
                                    <span name="value">1.50</span>
                                </span>
                            </div>
                        </article>
                    </details>
                    <details class="cuts"
                        title="Enable and disable the random cut effect for the start point and the end point"
                    >
                        <summary>
                            <span>cuts</span>
                            <svg xmlns="http://www.w3.org/2000/svg"
                                width="24" height="24"
                                viewBox="0 0 24 24"
                                fill="currentColor"
                                stroke="currentColor"
                                stroke-width="2"
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                class="icon lucide-triangle"
                            >
                                <path d="M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/>
                            </svg>
                        </summary>
                        <article>
                            <h4>RSP random start point</h4>
                            <div class="general-buttons">
                                <label class="checkbox">
                                    <input type="checkbox"
                                        id="c-rsp-da"
                                        name="rsp-da"
                                        class="hidde-interactive"
                                    >
                                    <span class="button">
                                        <svg xmlns="http://www.w3.org/2000/svg"
                                            width="24" height="24"
                                            viewBox="0 0 24 24"
                                            fill="currentColor"
                                            stroke="currentColor"
                                            stroke-width="2"
                                            stroke-linecap="round"
                                            stroke-linejoin="round"
                                            class="icon-checkbox lucide-square"
                                        >
                                            <rect width="18" height="18" x="3" y="3" rx="2"/>
                                        </svg>
                                        <span>disable for all</span>
                                    </span>
                                </label>
                            </div>
                        </article>
                        <article>
                            <h4>REP random end point</h4>
                            <div class="general-buttons">
                                <label class="checkbox">
                                    <input type="checkbox"
                                        id="c-rep-da"
                                        name="rep-da"
                                        class="hidde-interactive"
                                    >
                                    <span class="button">
                                        <svg xmlns="http://www.w3.org/2000/svg"
                                            width="24" height="24"
                                            viewBox="0 0 24 24"
                                            fill="currentColor"
                                            stroke="currentColor"
                                            stroke-width="2"
                                            stroke-linecap="round"
                                            stroke-linejoin="round"
                                            class="icon-checkbox lucide-square"
                                        >
                                            <rect width="18" height="18" x="3" y="3" rx="2"/>
                                        </svg>
                                        <span>disable for all</span>
                                    </span>
                                </label>
                            </div>
                        </article>
                    </details>
                </section>
                <div id="app-drop" class="drop-area" data-css-hidden>
                    <svg xmlns="http://www.w3.org/2000/svg"
                        width="24" height="24"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        class="icon lucide-file-audio"
                    >
                        <path d="M17.5 22h.5a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3"/>
                        <path d="M14 2v4a2 2 0 0 0 2 2h4"/>
                        <path d="M2 19a2 2 0 1 1 4 0v1a2 2 0 1 1-4 0v-4a6 6 0 0 1 12 0v4a2 2 0 1 1-4 0v-1a2 2 0 1 1 4 0"/>
                    </svg>
                    <p>Drop files</p>
                </div>
            </div>
        </main>
    </body>
</html>
